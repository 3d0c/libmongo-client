<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>libmongo-client: Object Access</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>Object Access<br/>
<small>
[<a class="el" href="group__bson__mod.html">BSON</a>]</small>
</h1>  </div>
</div>
<div class="contents">

<p>Functions that operate on whole BSON objects.  
<a href="#_details">More...</a></p>

<p><div class="dynheader">
Collaboration diagram for Object Access:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__bson__object__access.png" border="0" alt="" usemap="#group____bson____object____access"/>
<map name="group____bson____object____access" id="group____bson____object____access">
<area shape="rect" id="node2" href="group__bson__mod.html" title="The types, functions and everything else within this module is meant to allow one to work with BSON o..." alt="" coords="7,5,65,35"/></map>
</td></tr></table></center>
</div>
</p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bson *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bson__object__access.html#ga357437f58074c2dee668a0cae2595b8b">bson_new</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new BSON object.  <a href="#ga357437f58074c2dee668a0cae2595b8b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bson *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bson__object__access.html#ga5880491cfbf32f576ca7ed289c7a5d6c">bson_new_sized</a> (gint32 size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new BSON object, preallocating a given amount of space.  <a href="#ga5880491cfbf32f576ca7ed289c7a5d6c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bson *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bson__object__access.html#gad456a97b9a887b96373b8e519d76ecff">bson_new_from_data</a> (const guint8 *data, gint32 size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a BSON object from existing data.  <a href="#gad456a97b9a887b96373b8e519d76ecff"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bson *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bson__object__access.html#ga5bec2a5276b310191f94ba193a024fcb">bson_build_full</a> (<a class="el" href="group__bson__types.html#gadac27a93ef69dbe56a6409c68395e5cb">bson_type</a> type, const gchar *name, gboolean free_after,...)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Build a BSON object in one go, with full control.  <a href="#ga5bec2a5276b310191f94ba193a024fcb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bson *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bson__object__access.html#gae017cba3a7c5a49981aae92ff26d1ed8">bson_build</a> (<a class="el" href="group__bson__types.html#gadac27a93ef69dbe56a6409c68395e5cb">bson_type</a> type, const gchar *name,...)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Build a BSON object in one go.  <a href="#gae017cba3a7c5a49981aae92ff26d1ed8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bson__object__access.html#gaa9919014ef9d2e2c1b04efa31e0f2124">bson_finish</a> (bson *b)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finish a BSON object.  <a href="#gaa9919014ef9d2e2c1b04efa31e0f2124"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bson__object__access.html#ga797370970375deae54bcb40ecdb7b345">bson_reset</a> (bson *b)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reset a BSON object.  <a href="#ga797370970375deae54bcb40ecdb7b345"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bson__object__access.html#ga1c0a306bfbe71d42218a3882ed188dd8">bson_free</a> (bson *b)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Free the memory associated with a BSON object.  <a href="#ga1c0a306bfbe71d42218a3882ed188dd8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">gint32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bson__object__access.html#ga57fb6a03f8e9948901945f4b5fc0793c">bson_size</a> (const bson *b)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the size of a finished BSON object.  <a href="#ga57fb6a03f8e9948901945f4b5fc0793c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const guint8 *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bson__object__access.html#ga053d619f59aa8effe973b5b8077fb57b">bson_data</a> (const bson *b)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the raw bytestream form of the BSON object.  <a href="#ga053d619f59aa8effe973b5b8077fb57b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bson__object__access.html#ga30692c3cf96fc11ca02573248586a21d">bson_validate_key</a> (const gchar *key, gboolean forbid_dots, gboolean no_dollar)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Validate a BSON key.  <a href="#ga30692c3cf96fc11ca02573248586a21d"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Functions that operate on whole BSON objects. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gae017cba3a7c5a49981aae92ff26d1ed8"></a><!-- doxytag: member="bson.h::bson_build" ref="gae017cba3a7c5a49981aae92ff26d1ed8" args="(bson_type type, const gchar *name,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bson* bson_build </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__bson__types.html#gadac27a93ef69dbe56a6409c68395e5cb">bson_type</a>&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Build a BSON object in one go. </p>
<p>Very similar to <a class="el" href="group__bson__object__access.html#ga5bec2a5276b310191f94ba193a024fcb" title="Build a BSON object in one go, with full control.">bson_build_full()</a>, so much so, that it's exactly the same, except that the <em>free_after</em> parameter is always FALSE, and must not be specified in this case.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>is the element type we'll be adding. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>is the key name.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A newly allocated, unfinished BSON object, which must be finalized and freed, once not needed anymore, by the caller. Or NULL on error. </dd></dl>

<p>Definition at line <a class="el" href="bson_8c_source.html#l00448">448</a> of file <a class="el" href="bson_8c_source.html">bson.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__bson__object__access_gae017cba3a7c5a49981aae92ff26d1ed8_cgraph.png" border="0" usemap="#group__bson__object__access_gae017cba3a7c5a49981aae92ff26d1ed8_cgraph" alt=""/></div>
<map name="group__bson__object__access_gae017cba3a7c5a49981aae92ff26d1ed8_cgraph" id="group__bson__object__access_gae017cba3a7c5a49981aae92ff26d1ed8_cgraph">
<area shape="rect" id="node3" href="group__bson__object__access.html#ga1c0a306bfbe71d42218a3882ed188dd8" title="Free the memory associated with a BSON object." alt="" coords="144,5,229,35"/><area shape="rect" id="node5" href="group__bson__object__access.html#ga357437f58074c2dee668a0cae2595b8b" title="Create a new BSON object." alt="" coords="144,59,229,88"/><area shape="rect" id="node7" href="group__bson__object__access.html#ga5880491cfbf32f576ca7ed289c7a5d6c" title="Create a new BSON object, preallocating a given amount of space." alt="" coords="277,59,403,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga5bec2a5276b310191f94ba193a024fcb"></a><!-- doxytag: member="bson.h::bson_build_full" ref="ga5bec2a5276b310191f94ba193a024fcb" args="(bson_type type, const gchar *name, gboolean free_after,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bson* bson_build_full </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__bson__types.html#gadac27a93ef69dbe56a6409c68395e5cb">bson_type</a>&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gboolean&nbsp;</td>
          <td class="paramname"> <em>free_after</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Build a BSON object in one go, with full control. </p>
<p>This function can be used to build a BSON object in one simple step, chaining all the elements together (including sub-documents, created by this same function - more about that later).</p>
<p>One has to specify the type, the key name, and whether he wants to see the added object free'd after addition. Each element type is freed appropriately, and documents and arrays are finished before addition, if they're to be freed afterwards.</p>
<p>This way of operation allows one to build a full BSON object, even with embedded documents, without leaking memory.</p>
<p>After the three required parameters, one will need to list the data itself, in the same order as one would if he'd add with the bson_append family of functions.</p>
<p>The list must be closed with a <a class="el" href="group__bson__types.html#ggadac27a93ef69dbe56a6409c68395e5cba8da6f27ef8afcaac44402b61731a05df" title="Only used for errors.">BSON_TYPE_NONE</a> element, and the <em>name</em> and <em>free_after</em> parameters are not needed for the closing entry.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>is the element type we'll be adding. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>is the key name. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>free_after</em>&nbsp;</td><td>determines whether the original variable will be freed after adding it to the BSON object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A newly allocated, unfinished BSON object, which must be finalized and freed, once not needed anymore, by the caller. Or NULL on error. </dd></dl>

<p>Definition at line <a class="el" href="bson_8c_source.html#l00484">484</a> of file <a class="el" href="bson_8c_source.html">bson.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__bson__object__access_ga5bec2a5276b310191f94ba193a024fcb_cgraph.png" border="0" usemap="#group__bson__object__access_ga5bec2a5276b310191f94ba193a024fcb_cgraph" alt=""/></div>
<map name="group__bson__object__access_ga5bec2a5276b310191f94ba193a024fcb_cgraph" id="group__bson__object__access_ga5bec2a5276b310191f94ba193a024fcb_cgraph">
<area shape="rect" id="node3" href="group__bson__object__access.html#ga1c0a306bfbe71d42218a3882ed188dd8" title="Free the memory associated with a BSON object." alt="" coords="168,5,253,35"/><area shape="rect" id="node5" href="group__bson__object__access.html#ga357437f58074c2dee668a0cae2595b8b" title="Create a new BSON object." alt="" coords="168,59,253,88"/><area shape="rect" id="node7" href="group__bson__object__access.html#ga5880491cfbf32f576ca7ed289c7a5d6c" title="Create a new BSON object, preallocating a given amount of space." alt="" coords="301,59,427,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga053d619f59aa8effe973b5b8077fb57b"></a><!-- doxytag: member="bson.h::bson_data" ref="ga053d619f59aa8effe973b5b8077fb57b" args="(const bson *b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const guint8* bson_data </td>
          <td>(</td>
          <td class="paramtype">const bson *&nbsp;</td>
          <td class="paramname"> <em>b</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the raw bytestream form of the BSON object. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>b</em>&nbsp;</td><td>is the BSON object to retrieve data from.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The raw datastream or NULL on error. The stream s all not be freed.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Trying to retrieve the data of an unfinished BSON object is considered an error. </dd></dl>

<p>Definition at line <a class="el" href="bson_8c_source.html#l00554">554</a> of file <a class="el" href="bson_8c_source.html">bson.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__bson__object__access_ga053d619f59aa8effe973b5b8077fb57b_icgraph.png" border="0" usemap="#group__bson__object__access_ga053d619f59aa8effe973b5b8077fb57b_icgraph" alt=""/></div>
<map name="group__bson__object__access_ga053d619f59aa8effe973b5b8077fb57b_icgraph" id="group__bson__object__access_ga053d619f59aa8effe973b5b8077fb57b_icgraph">
<area shape="rect" id="node3" href="group__bson__append.html#ga673298d1d6618e9d822fcb15ccceaf40" title="Append Javascript code (with scope) to a BSON object." alt="" coords="155,5,392,35"/><area shape="rect" id="node5" href="group__bson__cursor.html#ga92fec73041e5d7efaf9899c5b6d37343" title="Get the value stored at the cursor, as a BSON array." alt="" coords="467,429,635,459"/><area shape="rect" id="node14" href="group__bson__cursor.html#gaa8c658d1cfef6e87cbda80879ee551b7" title="Get the value stored at the cursor, as binary data." alt="" coords="187,112,360,141"/><area shape="rect" id="node16" href="group__bson__cursor.html#ga25d4336571d2954b22ef3bbfb9b53c4e" title="Get the value stored at the cursor, as a boolean." alt="" coords="457,641,644,671"/><area shape="rect" id="node19" href="group__bson__cursor.html#ga6f8c5f012e5236e18d677142b49262fb" title="Get the value stored at the cursor, as a BSON document." alt="" coords="173,219,373,248"/><area shape="rect" id="node21" href="group__bson__cursor.html#ga10e9c6f2686c407daa77d46e8c5d88b4" title="Get the value stored at the cursor, as a double." alt="" coords="184,165,363,195"/><area shape="rect" id="node25" href="group__bson__cursor.html#ga869b17014b3863a8ae0cda9eb82bb5ac" title="Get the value stored at the cursor, as a 32&#45;bit integer." alt="" coords="191,323,356,352"/><area shape="rect" id="node27" href="group__bson__cursor.html#ga50f3858c3ce2d30a15544cf46887be50" title="Get the value stored at the cursor, as a 64&#45;bit integer." alt="" coords="191,376,356,405"/><area shape="rect" id="node29" href="group__bson__cursor.html#ga4e0dd9fdca4a05410b68b38bea3fc9ff" title="Get the value stored at the cursor, as javascript code." alt="" coords="176,429,371,459"/><area shape="rect" id="node31" href="group__bson__cursor.html#ga795172cdba462973cb35a6c94014219b" title="Get the value stored at the cursor, as javascript code w/ scope." alt="" coords="145,483,401,512"/><area shape="rect" id="node33" href="group__bson__cursor.html#ga45e3ec430a9b23b9512d5119b63f4c23" title="Get the value stored at the cursor, as an ObjectID." alt="" coords="196,536,351,565"/><area shape="rect" id="node35" href="group__bson__cursor.html#ga755aa068895ce73e6badef392831812d" title="Get the value stored at the cursor, as a regexp." alt="" coords="188,589,359,619"/><area shape="rect" id="node37" href="group__bson__cursor.html#ga657fb2f0fecd190b824d3e38936b1d4d" title="Get the value stored at the cursor, as string." alt="" coords="465,745,636,775"/><area shape="rect" id="node40" href="group__bson__cursor.html#ga4f67ba736cfa34a91db3efb3f25c1c07" title="Get the value stored at the cursor, as a symbol." alt="" coords="183,693,364,723"/><area shape="rect" id="node42" href="group__bson__cursor.html#ga96da14b748df5b6e564b193e0363e0fd" title="Get the value stored at the cursor, as a timestamp." alt="" coords="171,747,376,776"/><area shape="rect" id="node44" href="group__bson__cursor.html#gafb2e3e6476a62b44cf6ec3e41c990fab" title="Get the value stored at the cursor, as an UTC datetime." alt="" coords="164,800,383,829"/><area shape="rect" id="node46" href="group__bson__cursor.html#ga88ecba6bdfb9c33a7945daddb5bcab5c" title="Position the cursor to the next key." alt="" coords="484,904,617,933"/><area shape="rect" id="node51" href="group__bson__cursor.html#gac2b4e5dca25475ed4842ca4dd86413f3" title="Determine the type of the current element." alt="" coords="207,904,340,933"/><area shape="rect" id="node56" href="group__bson__cursor.html#ga8020ba70e4514954a5a5ebe37baa2bcb" title="Create a new cursor positioned at a given key." alt="" coords="232,59,315,88"/><area shape="rect" id="node60" href="group__mongo__wire__cmd.html#ga485e6a565866a9fa2ec4251e052ac060" title="Construct a delete command." alt="" coords="183,1008,364,1037"/><area shape="rect" id="node64" href="group__mongo__wire__cmd.html#ga96457147e0540ea46503ca61f87c566b" title="Construct an insert command with N documents." alt="" coords="177,1061,369,1091"/><area shape="rect" id="node72" href="group__mongo__wire__cmd.html#ga07c82c11f2e103a79b88f22bdb586472" title="Construct a query command." alt="" coords="185,1117,361,1147"/><area shape="rect" id="node78" href="group__mongo__wire__cmd.html#ga660ca5f7389ca48d4739d885a18e78a6" title="Construct an update command." alt="" coords="180,1197,367,1227"/><area shape="rect" id="node7" href="group__mongo__sync.html#ga68dba9bac0f92adc2b3de62a357d6854" title="Check whether the current node is the master." alt="" coords="699,641,907,671"/><area shape="rect" id="node9" href="group__mongo__sync__pool__api.html#gacdb2162ca636a523dc344b31a099ba62" title="Create a new synchronous connection pool." alt="" coords="959,603,1127,632"/><area shape="rect" id="node11" href="group__mongo__sync.html#gae47159f902ced01122d46bb614091a6d" title="Attempt to connect to another member of a replica set." alt="" coords="956,680,1129,709"/><area shape="rect" id="node23" href="group__mongo__sync.html#gaedac9fdb1e5ec77e0fedd2289d5a8c18" title="Send a count() command to MongoDB." alt="" coords="460,152,641,181"/><area shape="rect" id="node48" href="group__bson__cursor.html#ga1655fa3c1116657f42e4cf76ec8ca129" title="Move the cursor to a given key, past the current one." alt="" coords="720,904,885,933"/><area shape="rect" id="node54" href="group__bson__cursor.html#ga7ec76513b2377a122ed2a95ffa1042c4" title="Retrieve the type of the current element, as string." alt="" coords="451,851,651,880"/><area shape="rect" id="node62" href="group__mongo__sync.html#ga342218b37c0b0d4beafd7071b530ee1f" title="Send a delete command to MongoDB." alt="" coords="459,957,643,987"/><area shape="rect" id="node66" href="group__mongo__sync.html#ga60b1dea6c43b120d84f6d424e773f52b" title="Send an insert command to MongoDB." alt="" coords="453,1064,648,1093"/><area shape="rect" id="node70" href="group__mongo__wire__cmd.html#gaae093fbc8193dff191d678390254e257" title="Construct an insert command." alt="" coords="463,1011,639,1040"/><area shape="rect" id="node68" href="group__mongo__sync.html#ga3a2312f2c0a7e6c9a4c8d0eb57051f65" title="Send an insert command to MongoDB." alt="" coords="712,1064,893,1093"/><area shape="rect" id="node74" href="group__mongo__sync.html#ga0349cd2e80d82f52544dbafe1dcb8cdd" title="Send a query command to MongoDB." alt="" coords="460,1171,641,1200"/><area shape="rect" id="node76" href="group__mongo__wire__cmd.html#ga7c7b378c3675d90d4da766b65b3ccef5" title="Construct a custom command." alt="" coords="456,1117,645,1147"/><area shape="rect" id="node80" href="group__mongo__sync.html#gae299d207c5afabc9f114bab874454c12" title="Send an update command to MongoDB." alt="" coords="456,1224,645,1253"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaa9919014ef9d2e2c1b04efa31e0f2124"></a><!-- doxytag: member="bson.h::bson_finish" ref="gaa9919014ef9d2e2c1b04efa31e0f2124" args="(bson *b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean bson_finish </td>
          <td>(</td>
          <td class="paramtype">bson *&nbsp;</td>
          <td class="paramname"> <em>b</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Finish a BSON object. </p>
<p>Terminate a BSON object. This includes appending the trailing zero byte and finalising the length of the object.</p>
<p>The object cannot be appended to after it is finalised.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>b</em>&nbsp;</td><td>is the BSON object to close &amp; finish.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE on success, FALSE otherwise. </dd></dl>

<p>Definition at line <a class="el" href="bson_8c_source.html#l00521">521</a> of file <a class="el" href="bson_8c_source.html">bson.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__bson__object__access_gaa9919014ef9d2e2c1b04efa31e0f2124_icgraph.png" border="0" usemap="#group__bson__object__access_gaa9919014ef9d2e2c1b04efa31e0f2124_icgraph" alt=""/></div>
<map name="group__bson__object__access_gaa9919014ef9d2e2c1b04efa31e0f2124_icgraph" id="group__bson__object__access_gaa9919014ef9d2e2c1b04efa31e0f2124_icgraph">
<area shape="rect" id="node3" href="group__bson__cursor.html#ga92fec73041e5d7efaf9899c5b6d37343" title="Get the value stored at the cursor, as a BSON array." alt="" coords="192,5,360,35"/><area shape="rect" id="node5" href="group__mongo__sync.html#ga68dba9bac0f92adc2b3de62a357d6854" title="Check whether the current node is the master." alt="" coords="453,57,661,87"/><area shape="rect" id="node12" href="group__bson__cursor.html#ga6f8c5f012e5236e18d677142b49262fb" title="Get the value stored at the cursor, as a BSON document." alt="" coords="176,109,376,139"/><area shape="rect" id="node14" href="group__bson__cursor.html#ga795172cdba462973cb35a6c94014219b" title="Get the value stored at the cursor, as javascript code w/ scope." alt="" coords="148,163,404,192"/><area shape="rect" id="node16" href="group__mongo__sync.html#gaedac9fdb1e5ec77e0fedd2289d5a8c18" title="Send a count() command to MongoDB." alt="" coords="185,216,367,245"/><area shape="rect" id="node18" href="group__mongo__sync.html#ga624676afff72705c88ecc545f98c5378" title="Send a drop() command to MongoDB." alt="" coords="189,269,363,299"/><area shape="rect" id="node20" href="group__mongo__sync.html#gaf58b4929296fa55335f209dbbe7370e2" title="Get the last error from MongoDB." alt="" coords="159,323,393,352"/><area shape="rect" id="node23" href="group__mongo__sync.html#gadbc79fc4f323ba7df77fe54f669ebfb0" title="Send a PING command to MongoDB." alt="" coords="472,315,643,344"/><area shape="rect" id="node26" href="group__mongo__sync.html#ga46b67cfe6443950b6083b5d668e9f37e" title="Reset the last error variable in MongoDB." alt="" coords="168,427,384,456"/><area shape="rect" id="node28" href="group__mongo__sync__cursor.html#gae40a3a8297fccd66baa5ac4bf82a92bb" title="Retrieve the BSON document at the cursor&#39;s position." alt="" coords="169,480,383,509"/><area shape="rect" id="node30" href="group__mongo__wire__cmd.html#ga7c7b378c3675d90d4da766b65b3ccef5" title="Construct a custom command." alt="" coords="181,533,371,563"/><area shape="rect" id="node7" href="group__mongo__sync__pool__api.html#gacdb2162ca636a523dc344b31a099ba62" title="Create a new synchronous connection pool." alt="" coords="713,57,881,87"/><area shape="rect" id="node9" href="group__mongo__sync.html#gae47159f902ced01122d46bb614091a6d" title="Attempt to connect to another member of a replica set." alt="" coords="711,255,884,284"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga1c0a306bfbe71d42218a3882ed188dd8"></a><!-- doxytag: member="bson.h::bson_free" ref="ga1c0a306bfbe71d42218a3882ed188dd8" args="(bson *b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bson_free </td>
          <td>(</td>
          <td class="paramtype">bson *&nbsp;</td>
          <td class="paramname"> <em>b</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Free the memory associated with a BSON object. </p>
<p>Frees up all memory associated with a BSON object. The variable shall not be used afterwards.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>b</em>&nbsp;</td><td>is the BSON object to free. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="bson_8c_source.html#l00579">579</a> of file <a class="el" href="bson_8c_source.html">bson.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__bson__object__access_ga1c0a306bfbe71d42218a3882ed188dd8_icgraph.png" border="0" usemap="#group__bson__object__access_ga1c0a306bfbe71d42218a3882ed188dd8_icgraph" alt=""/></div>
<map name="group__bson__object__access_ga1c0a306bfbe71d42218a3882ed188dd8_icgraph" id="group__bson__object__access_ga1c0a306bfbe71d42218a3882ed188dd8_icgraph">
<area shape="rect" id="node3" href="group__bson__object__access.html#gae017cba3a7c5a49981aae92ff26d1ed8" title="Build a BSON object in one go." alt="" coords="211,5,301,35"/><area shape="rect" id="node5" href="group__bson__object__access.html#ga5bec2a5276b310191f94ba193a024fcb" title="Build a BSON object in one go, with full control." alt="" coords="199,59,313,88"/><area shape="rect" id="node7" href="group__mongo__sync.html#gaedac9fdb1e5ec77e0fedd2289d5a8c18" title="Send a count() command to MongoDB." alt="" coords="165,112,347,141"/><area shape="rect" id="node9" href="group__mongo__sync.html#ga624676afff72705c88ecc545f98c5378" title="Send a drop() command to MongoDB." alt="" coords="169,165,343,195"/><area shape="rect" id="node11" href="group__mongo__sync.html#gaf58b4929296fa55335f209dbbe7370e2" title="Get the last error from MongoDB." alt="" coords="139,219,373,248"/><area shape="rect" id="node13" href="group__mongo__sync.html#ga68dba9bac0f92adc2b3de62a357d6854" title="Check whether the current node is the master." alt="" coords="152,272,360,301"/><area shape="rect" id="node20" href="group__mongo__sync.html#gadbc79fc4f323ba7df77fe54f669ebfb0" title="Send a PING command to MongoDB." alt="" coords="171,325,341,355"/><area shape="rect" id="node23" href="group__mongo__sync.html#ga46b67cfe6443950b6083b5d668e9f37e" title="Reset the last error variable in MongoDB." alt="" coords="148,379,364,408"/><area shape="rect" id="node25" href="group__mongo__wire__cmd.html#ga7c7b378c3675d90d4da766b65b3ccef5" title="Construct a custom command." alt="" coords="161,432,351,461"/><area shape="rect" id="node15" href="group__mongo__sync__pool__api.html#gacdb2162ca636a523dc344b31a099ba62" title="Create a new synchronous connection pool." alt="" coords="425,248,593,277"/><area shape="rect" id="node17" href="group__mongo__sync.html#gae47159f902ced01122d46bb614091a6d" title="Attempt to connect to another member of a replica set." alt="" coords="423,325,596,355"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga357437f58074c2dee668a0cae2595b8b"></a><!-- doxytag: member="bson.h::bson_new" ref="ga357437f58074c2dee668a0cae2595b8b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bson* bson_new </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a new BSON object. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>The created object will have no memory pre-allocated for data, resulting in possibly more reallocations than neccessary when appending elements.</dd>
<dd>
If at all possible, use <a class="el" href="group__bson__object__access.html#ga5880491cfbf32f576ca7ed289c7a5d6c" title="Create a new BSON object, preallocating a given amount of space.">bson_new_sized()</a> instead.</dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A newly allocated object, or NULL on error. </dd></dl>

<p>Definition at line <a class="el" href="bson_8c_source.html#l00252">252</a> of file <a class="el" href="bson_8c_source.html">bson.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__bson__object__access_ga357437f58074c2dee668a0cae2595b8b_cgraph.png" border="0" usemap="#group__bson__object__access_ga357437f58074c2dee668a0cae2595b8b_cgraph" alt=""/></div>
<map name="group__bson__object__access_ga357437f58074c2dee668a0cae2595b8b_cgraph" id="group__bson__object__access_ga357437f58074c2dee668a0cae2595b8b_cgraph">
<area shape="rect" id="node3" href="group__bson__object__access.html#ga5880491cfbf32f576ca7ed289c7a5d6c" title="Create a new BSON object, preallocating a given amount of space." alt="" coords="139,5,264,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__bson__object__access_ga357437f58074c2dee668a0cae2595b8b_icgraph.png" border="0" usemap="#group__bson__object__access_ga357437f58074c2dee668a0cae2595b8b_icgraph" alt=""/></div>
<map name="group__bson__object__access_ga357437f58074c2dee668a0cae2595b8b_icgraph" id="group__bson__object__access_ga357437f58074c2dee668a0cae2595b8b_icgraph">
<area shape="rect" id="node3" href="group__bson__object__access.html#gae017cba3a7c5a49981aae92ff26d1ed8" title="Build a BSON object in one go." alt="" coords="188,5,279,35"/><area shape="rect" id="node5" href="group__bson__object__access.html#ga5bec2a5276b310191f94ba193a024fcb" title="Build a BSON object in one go, with full control." alt="" coords="176,59,291,88"/><area shape="rect" id="node7" href="group__mongo__wire__cmd.html#ga7c7b378c3675d90d4da766b65b3ccef5" title="Construct a custom command." alt="" coords="139,112,328,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gad456a97b9a887b96373b8e519d76ecff"></a><!-- doxytag: member="bson.h::bson_new_from_data" ref="gad456a97b9a887b96373b8e519d76ecff" args="(const guint8 *data, gint32 size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bson* bson_new_from_data </td>
          <td>(</td>
          <td class="paramtype">const guint8 *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gint32&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a BSON object from existing data. </p>
<p>In order to be able to parse existing BSON, one must load it up into a bson object - and this function does just that.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Objects created by this function are not final objects, in order to be able to extend them. As such, when importing existing BSON data, which are terminated by a zero byte, specify the size as one smaller than the original data stream.</dd>
<dd>
This is because <a class="el" href="group__bson__object__access.html#gaa9919014ef9d2e2c1b04efa31e0f2124" title="Finish a BSON object.">bson_finish()</a> will append a zero byte, thus one would end up with an invalid document if it had an extra one.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>is the BSON byte stream to import. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>is the size of the byte stream.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A newly allocated object, with a copy of <em>data</em> as its contents. </dd></dl>

<p>Definition at line <a class="el" href="bson_8c_source.html#l00269">269</a> of file <a class="el" href="bson_8c_source.html">bson.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__bson__object__access_gad456a97b9a887b96373b8e519d76ecff_icgraph.png" border="0" usemap="#group__bson__object__access_gad456a97b9a887b96373b8e519d76ecff_icgraph" alt=""/></div>
<map name="group__bson__object__access_gad456a97b9a887b96373b8e519d76ecff_icgraph" id="group__bson__object__access_gad456a97b9a887b96373b8e519d76ecff_icgraph">
<area shape="rect" id="node3" href="group__mongo__wire__reply.html#ga3f074589b15788ce7fd8e67867864033" title="Get the Nth document from a reply packet." alt="" coords="213,85,528,115"/><area shape="rect" id="node5" href="group__mongo__sync.html#gaedac9fdb1e5ec77e0fedd2289d5a8c18" title="Send a count() command to MongoDB." alt="" coords="603,5,784,35"/><area shape="rect" id="node7" href="group__mongo__sync.html#gaf58b4929296fa55335f209dbbe7370e2" title="Get the last error from MongoDB." alt="" coords="576,59,811,88"/><area shape="rect" id="node9" href="group__mongo__sync.html#ga68dba9bac0f92adc2b3de62a357d6854" title="Check whether the current node is the master." alt="" coords="589,112,797,141"/><area shape="rect" id="node16" href="group__mongo__sync__cursor.html#gae40a3a8297fccd66baa5ac4bf82a92bb" title="Retrieve the BSON document at the cursor&#39;s position." alt="" coords="587,165,800,195"/><area shape="rect" id="node11" href="group__mongo__sync__pool__api.html#gacdb2162ca636a523dc344b31a099ba62" title="Create a new synchronous connection pool." alt="" coords="863,73,1031,103"/><area shape="rect" id="node13" href="group__mongo__sync.html#gae47159f902ced01122d46bb614091a6d" title="Attempt to connect to another member of a replica set." alt="" coords="860,151,1033,180"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga5880491cfbf32f576ca7ed289c7a5d6c"></a><!-- doxytag: member="bson.h::bson_new_sized" ref="ga5880491cfbf32f576ca7ed289c7a5d6c" args="(gint32 size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bson* bson_new_sized </td>
          <td>(</td>
          <td class="paramtype">gint32&nbsp;</td>
          <td class="paramname"> <em>size</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a new BSON object, preallocating a given amount of space. </p>
<p>Creates a new BSON object, pre-allocating <em>size</em> bytes of space for the data.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>is the space to pre-allocate for data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>It is not an error to pre-allocate either less, or more space than what will really end up being added. Pre-allocation does not set the size of the final object, it is merely a hint, a way to help the system avoid memory reallocations.</dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A newly allocated object, or NULL on error. </dd></dl>

<p>Definition at line <a class="el" href="bson_8c_source.html#l00258">258</a> of file <a class="el" href="bson_8c_source.html">bson.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__bson__object__access_ga5880491cfbf32f576ca7ed289c7a5d6c_icgraph.png" border="0" usemap="#group__bson__object__access_ga5880491cfbf32f576ca7ed289c7a5d6c_icgraph" alt=""/></div>
<map name="group__bson__object__access_ga5880491cfbf32f576ca7ed289c7a5d6c_icgraph" id="group__bson__object__access_ga5880491cfbf32f576ca7ed289c7a5d6c_icgraph">
<area shape="rect" id="node3" href="group__bson__cursor.html#ga92fec73041e5d7efaf9899c5b6d37343" title="Get the value stored at the cursor, as a BSON array." alt="" coords="224,5,392,35"/><area shape="rect" id="node5" href="group__mongo__sync.html#ga68dba9bac0f92adc2b3de62a357d6854" title="Check whether the current node is the master." alt="" coords="485,57,693,87"/><area shape="rect" id="node12" href="group__bson__cursor.html#ga6f8c5f012e5236e18d677142b49262fb" title="Get the value stored at the cursor, as a BSON document." alt="" coords="208,109,408,139"/><area shape="rect" id="node14" href="group__bson__cursor.html#ga795172cdba462973cb35a6c94014219b" title="Get the value stored at the cursor, as javascript code w/ scope." alt="" coords="180,163,436,192"/><area shape="rect" id="node16" href="group__bson__object__access.html#ga357437f58074c2dee668a0cae2595b8b" title="Create a new BSON object." alt="" coords="265,216,351,245"/><area shape="rect" id="node24" href="group__mongo__sync.html#gaedac9fdb1e5ec77e0fedd2289d5a8c18" title="Send a count() command to MongoDB." alt="" coords="217,269,399,299"/><area shape="rect" id="node26" href="group__mongo__sync.html#ga624676afff72705c88ecc545f98c5378" title="Send a drop() command to MongoDB." alt="" coords="221,323,395,352"/><area shape="rect" id="node28" href="group__mongo__sync.html#gaf58b4929296fa55335f209dbbe7370e2" title="Get the last error from MongoDB." alt="" coords="191,376,425,405"/><area shape="rect" id="node31" href="group__mongo__sync.html#gadbc79fc4f323ba7df77fe54f669ebfb0" title="Send a PING command to MongoDB." alt="" coords="504,375,675,404"/><area shape="rect" id="node34" href="group__mongo__sync.html#ga46b67cfe6443950b6083b5d668e9f37e" title="Reset the last error variable in MongoDB." alt="" coords="200,480,416,509"/><area shape="rect" id="node7" href="group__mongo__sync__pool__api.html#gacdb2162ca636a523dc344b31a099ba62" title="Create a new synchronous connection pool." alt="" coords="745,57,913,87"/><area shape="rect" id="node9" href="group__mongo__sync.html#gae47159f902ced01122d46bb614091a6d" title="Attempt to connect to another member of a replica set." alt="" coords="743,255,916,284"/><area shape="rect" id="node18" href="group__bson__object__access.html#gae017cba3a7c5a49981aae92ff26d1ed8" title="Build a BSON object in one go." alt="" coords="544,163,635,192"/><area shape="rect" id="node20" href="group__bson__object__access.html#ga5bec2a5276b310191f94ba193a024fcb" title="Build a BSON object in one go, with full control." alt="" coords="532,216,647,245"/><area shape="rect" id="node22" href="group__mongo__wire__cmd.html#ga7c7b378c3675d90d4da766b65b3ccef5" title="Construct a custom command." alt="" coords="495,269,684,299"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga797370970375deae54bcb40ecdb7b345"></a><!-- doxytag: member="bson.h::bson_reset" ref="ga797370970375deae54bcb40ecdb7b345" args="(bson *b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean bson_reset </td>
          <td>(</td>
          <td class="paramtype">bson *&nbsp;</td>
          <td class="paramname"> <em>b</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reset a BSON object. </p>
<p>Resetting a BSON object clears the finished status, and sets its size to zero. Resetting is most useful when wants to keep the already allocated memory around for reuse.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>b</em>&nbsp;</td><td>is the BSON object to reset.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE on success, FALSE otherwise. </dd></dl>

<p>Definition at line <a class="el" href="bson_8c_source.html#l00566">566</a> of file <a class="el" href="bson_8c_source.html">bson.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga57fb6a03f8e9948901945f4b5fc0793c"></a><!-- doxytag: member="bson.h::bson_size" ref="ga57fb6a03f8e9948901945f4b5fc0793c" args="(const bson *b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gint32 bson_size </td>
          <td>(</td>
          <td class="paramtype">const bson *&nbsp;</td>
          <td class="paramname"> <em>b</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the size of a finished BSON object. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>b</em>&nbsp;</td><td>is the finished BSON object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The size of the document, or -1 on error.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Trying to get the size of a BSON object that has not been closed by <a class="el" href="group__bson__object__access.html#gaa9919014ef9d2e2c1b04efa31e0f2124" title="Finish a BSON object.">bson_finish()</a> is considered an error. </dd></dl>

<p>Definition at line <a class="el" href="bson_8c_source.html#l00542">542</a> of file <a class="el" href="bson_8c_source.html">bson.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__bson__object__access_ga57fb6a03f8e9948901945f4b5fc0793c_icgraph.png" border="0" usemap="#group__bson__object__access_ga57fb6a03f8e9948901945f4b5fc0793c_icgraph" alt=""/></div>
<map name="group__bson__object__access_ga57fb6a03f8e9948901945f4b5fc0793c_icgraph" id="group__bson__object__access_ga57fb6a03f8e9948901945f4b5fc0793c_icgraph">
<area shape="rect" id="node3" href="group__bson__append.html#ga673298d1d6618e9d822fcb15ccceaf40" title="Append Javascript code (with scope) to a BSON object." alt="" coords="139,5,376,35"/><area shape="rect" id="node5" href="group__bson__cursor.html#gadcac4b9c2076afa5e7e656baed077b18" title="Create a new cursor." alt="" coords="192,112,323,141"/><area shape="rect" id="node14" href="group__bson__cursor.html#ga88ecba6bdfb9c33a7945daddb5bcab5c" title="Position the cursor to the next key." alt="" coords="191,59,324,88"/><area shape="rect" id="node19" href="group__bson__cursor.html#ga8020ba70e4514954a5a5ebe37baa2bcb" title="Create a new cursor positioned at a given key." alt="" coords="216,165,299,195"/><area shape="rect" id="node21" href="group__mongo__sync.html#gaedac9fdb1e5ec77e0fedd2289d5a8c18" title="Send a count() command to MongoDB." alt="" coords="437,191,619,220"/><area shape="rect" id="node25" href="group__mongo__sync.html#ga3a2312f2c0a7e6c9a4c8d0eb57051f65" title="Send an insert command to MongoDB." alt="" coords="680,320,861,349"/><area shape="rect" id="node27" href="group__mongo__sync.html#ga60b1dea6c43b120d84f6d424e773f52b" title="Send an insert command to MongoDB." alt="" coords="431,373,625,403"/><area shape="rect" id="node30" href="group__mongo__wire__cmd.html#ga7c7b378c3675d90d4da766b65b3ccef5" title="Construct a custom command." alt="" coords="433,525,623,555"/><area shape="rect" id="node32" href="group__mongo__wire__cmd.html#ga485e6a565866a9fa2ec4251e052ac060" title="Construct a delete command." alt="" coords="167,320,348,349"/><area shape="rect" id="node36" href="group__mongo__wire__cmd.html#gaae093fbc8193dff191d678390254e257" title="Construct an insert command." alt="" coords="440,449,616,479"/><area shape="rect" id="node38" href="group__mongo__wire__cmd.html#ga96457147e0540ea46503ca61f87c566b" title="Construct an insert command with N documents." alt="" coords="161,424,353,453"/><area shape="rect" id="node42" href="group__mongo__wire__cmd.html#ga07c82c11f2e103a79b88f22bdb586472" title="Construct a query command." alt="" coords="169,579,345,608"/><area shape="rect" id="node47" href="group__mongo__wire__cmd.html#ga660ca5f7389ca48d4739d885a18e78a6" title="Construct an update command." alt="" coords="164,632,351,661"/><area shape="rect" id="node7" href="group__mongo__sync.html#ga68dba9bac0f92adc2b3de62a357d6854" title="Check whether the current node is the master." alt="" coords="424,112,632,141"/><area shape="rect" id="node9" href="group__mongo__sync__pool__api.html#gacdb2162ca636a523dc344b31a099ba62" title="Create a new synchronous connection pool." alt="" coords="687,139,855,168"/><area shape="rect" id="node11" href="group__mongo__sync.html#gae47159f902ced01122d46bb614091a6d" title="Attempt to connect to another member of a replica set." alt="" coords="684,85,857,115"/><area shape="rect" id="node16" href="group__bson__cursor.html#ga1655fa3c1116657f42e4cf76ec8ca129" title="Move the cursor to a given key, past the current one." alt="" coords="445,59,611,88"/><area shape="rect" id="node34" href="group__mongo__sync.html#ga342218b37c0b0d4beafd7071b530ee1f" title="Send a delete command to MongoDB." alt="" coords="436,320,620,349"/><area shape="rect" id="node44" href="group__mongo__sync.html#ga0349cd2e80d82f52544dbafe1dcb8cdd" title="Send a query command to MongoDB." alt="" coords="437,579,619,608"/><area shape="rect" id="node49" href="group__mongo__sync.html#gae299d207c5afabc9f114bab874454c12" title="Send an update command to MongoDB." alt="" coords="433,632,623,661"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga30692c3cf96fc11ca02573248586a21d"></a><!-- doxytag: member="bson.h::bson_validate_key" ref="ga30692c3cf96fc11ca02573248586a21d" args="(const gchar *key, gboolean forbid_dots, gboolean no_dollar)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean bson_validate_key </td>
          <td>(</td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gboolean&nbsp;</td>
          <td class="paramname"> <em>forbid_dots</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gboolean&nbsp;</td>
          <td class="paramname"> <em>no_dollar</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Validate a BSON key. </p>
<p>Verifies that a given key is a valid BSON field name. Depending on context (togglable by the boolean flags) this means that the string must either be free of dots, or must not start with a dollar sign.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>is the field name to validate. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>forbid_dots</em>&nbsp;</td><td>toggles whether to disallow dots in the name altogether. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>no_dollar</em>&nbsp;</td><td>toggles whether to forbid key names starting with a dollar sign.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE if the field name is found to be valid, FALSE otherwise.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>This function does NOT do UTF-8 validation. That is left up to the application. </dd></dl>

<p>Definition at line <a class="el" href="bson_8c_source.html#l00590">590</a> of file <a class="el" href="bson_8c_source.html">bson.c</a>.</p>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Sat Jun 25 2011 12:15:48 for libmongo-client by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
