<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>libmongo-client: Mongo GridFS Chunk API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>Mongo GridFS Chunk API<br/>
<small>
[<a class="el" href="group__mongo__sync__gridfs__api.html">Mongo GridFS API</a>]</small>
</h1>  </div>
</div>
<div class="contents">

<p>This submodule provides chunk-based access to GridFS files.  
<a href="#_details">More...</a></p>

<p><div class="dynheader">
Collaboration diagram for Mongo GridFS Chunk API:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__mongo__sync__gridfs__chunk__api.png" border="0" alt="" usemap="#group____mongo____sync____gridfs____chunk____api"/>
<map name="group____mongo____sync____gridfs____chunk____api" id="group____mongo____sync____gridfs____chunk____api">
<area shape="rect" id="node1" href="group__mongo__sync__gridfs__api.html" title="The GridFS API &#45; and related modules, like Mongo GridFS Chunk API and Mongo GridFS Streaming API &#45; pr..." alt="" coords="7,5,140,35"/></map>
</td></tr></table></center>
</div>
</p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">mongo_sync_gridfs_chunked_file *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync__gridfs__chunk__api.html#ga54de2ac6d88a819b4c6b9a1560fbe9c0">mongo_sync_gridfs_chunked_find</a> (mongo_sync_gridfs *gfs, const bson *query)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find a file on GridFS.  <a href="#ga54de2ac6d88a819b4c6b9a1560fbe9c0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">mongo_sync_gridfs_chunked_file *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync__gridfs__chunk__api.html#gaf398eaa2d1bfb24f879af6f6899c8278">mongo_sync_gridfs_chunked_file_new_from_buffer</a> (mongo_sync_gridfs *gfs, const bson *metadata, const guint8 *data, gint64 size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Upload a file to GridFS from a buffer.  <a href="#gaf398eaa2d1bfb24f879af6f6899c8278"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync__gridfs__chunk__api.html#gaf846c1a66d71b6d94cf441dad75a8546">mongo_sync_gridfs_chunked_file_free</a> (mongo_sync_gridfs_chunked_file *gfile)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Free a GridFS chunked file object.  <a href="#gaf846c1a66d71b6d94cf441dad75a8546"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">mongo_sync_cursor *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync__gridfs__chunk__api.html#gabff321c07bade7b3528b9beda6de72de">mongo_sync_gridfs_chunked_file_cursor_new</a> (mongo_sync_gridfs_chunked_file *gfile, gint start, gint num)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a cursor for a GridFS chunked file.  <a href="#gabff321c07bade7b3528b9beda6de72de"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">guint8 *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync__gridfs__chunk__api.html#gafcbf8ca35a03d760586dcc853527b765">mongo_sync_gridfs_chunked_file_cursor_get_chunk</a> (mongo_sync_cursor *cursor, gint32 *size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the data of a GridFS file chunk, via a cursor.  <a href="#gafcbf8ca35a03d760586dcc853527b765"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This submodule provides chunk-based access to GridFS files. </p>
<p>Chunk-based access has the advantage of being reasonably lightweight and fast, and the disadvantage of making it harder to do arbitrary reads or multi-part writes.</p>
<p>It's best used when the whole file needs to be retrieved, or when uploading files that either fit in a buffer, or can be mmapped. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gafcbf8ca35a03d760586dcc853527b765"></a><!-- doxytag: member="sync&#45;gridfs&#45;chunk.h::mongo_sync_gridfs_chunked_file_cursor_get_chunk" ref="gafcbf8ca35a03d760586dcc853527b765" args="(mongo_sync_cursor *cursor, gint32 *size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">guint8* mongo_sync_gridfs_chunked_file_cursor_get_chunk </td>
          <td>(</td>
          <td class="paramtype">mongo_sync_cursor *&nbsp;</td>
          <td class="paramname"> <em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gint32 *&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the data of a GridFS file chunk, via a cursor. </p>
<p>Once we have a cursor, it can be iterated over with <a class="el" href="group__mongo__sync__cursor.html#ga321b3b8a39de8b5afd3accd9b9310d22" title="Iterate a MongoDB cursor.">mongo_sync_cursor_next()</a>, and its data can be conveniently accessed with this function.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cursor</em>&nbsp;</td><td>is the cursor object to work with. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>is a pointer to a variable where the chunk's actual size can be stored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A pointer to newly allocated memory that holds the current chunk's data, or NULL on error. It is the responsibility of the caller to free this once it is no longer needed. </dd></dl>

<p>Definition at line <a class="el" href="sync-gridfs-chunk_8c_source.html#l00157">157</a> of file <a class="el" href="sync-gridfs-chunk_8c_source.html">sync-gridfs-chunk.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__mongo__sync__gridfs__chunk__api_gafcbf8ca35a03d760586dcc853527b765_cgraph.png" border="0" usemap="#group__mongo__sync__gridfs__chunk__api_gafcbf8ca35a03d760586dcc853527b765_cgraph" alt=""/></div>
<map name="group__mongo__sync__gridfs__chunk__api_gafcbf8ca35a03d760586dcc853527b765_cgraph" id="group__mongo__sync__gridfs__chunk__api_gafcbf8ca35a03d760586dcc853527b765_cgraph">
<area shape="rect" id="node3" href="group__bson__cursor.html#gaae32a6eae2be182d26c8f2a79a07ac12" title="Delete a cursor, and free up all resources used by it." alt="" coords="761,59,892,88"/><area shape="rect" id="node5" href="group__bson__cursor.html#gaa8c658d1cfef6e87cbda80879ee551b7" title="Get the value stored at the cursor, as binary data." alt="" coords="427,7,600,36"/><area shape="rect" id="node9" href="group__bson__cursor.html#ga8020ba70e4514954a5a5ebe37baa2bcb" title="Create a new cursor positioned at a given key." alt="" coords="472,111,555,140"/><area shape="rect" id="node17" href="group__bson__object__access.html#ga1c0a306bfbe71d42218a3882ed188dd8" title="Free the memory associated with a BSON object." alt="" coords="471,164,556,193"/><area shape="rect" id="node19" href="group__mongo__sync__cursor.html#gae40a3a8297fccd66baa5ac4bf82a92bb" title="Retrieve the BSON document at the cursor&#39;s position." alt="" coords="407,217,620,247"/><area shape="rect" id="node7" href="group__bson__object__access.html#ga053d619f59aa8effe973b5b8077fb57b" title="Return the raw bytestream form of the BSON object." alt="" coords="783,5,871,35"/><area shape="rect" id="node12" href="group__bson__cursor.html#gadcac4b9c2076afa5e7e656baed077b18" title="Create a new cursor." alt="" coords="761,112,892,141"/><area shape="rect" id="node14" href="group__bson__object__access.html#ga57fb6a03f8e9948901945f4b5fc0793c" title="Return the size of a finished BSON object." alt="" coords="1123,137,1208,167"/><area shape="rect" id="node21" href="group__bson__object__access.html#gaa9919014ef9d2e2c1b04efa31e0f2124" title="Finish a BSON object." alt="" coords="780,216,873,245"/><area shape="rect" id="node23" href="group__mongo__wire__reply.html#ga3f074589b15788ce7fd8e67867864033" title="Get the Nth document from a reply packet." alt="" coords="669,269,984,299"/><area shape="rect" id="node25" href="group__bson__object__access.html#gad456a97b9a887b96373b8e519d76ecff" title="Create a BSON object from existing data." alt="" coords="1087,269,1244,299"/><area shape="rect" id="node27" href="group__mongo__wire__reply.html#gad4378c89fad2dc0834eb0e709d6124b2" title="Get the full data part of a reply packet." alt="" coords="1040,323,1291,352"/><area shape="rect" id="node31" href="group__mongo__wire__reply.html#ga5d207b5b89cfee839f2129251aab5261" title="Get the header of a reply packet." alt="" coords="1032,216,1299,245"/><area shape="rect" id="node29" href="group__mongo__wire__packet.html#ga5350d54b0a6800ecd7df81d5c2b80c6b" title="Get the data part of a packet." alt="" coords="1347,269,1560,299"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gabff321c07bade7b3528b9beda6de72de"></a><!-- doxytag: member="sync&#45;gridfs&#45;chunk.h::mongo_sync_gridfs_chunked_file_cursor_new" ref="gabff321c07bade7b3528b9beda6de72de" args="(mongo_sync_gridfs_chunked_file *gfile, gint start, gint num)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mongo_sync_cursor* mongo_sync_gridfs_chunked_file_cursor_new </td>
          <td>(</td>
          <td class="paramtype">mongo_sync_gridfs_chunked_file *&nbsp;</td>
          <td class="paramname"> <em>gfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gint&nbsp;</td>
          <td class="paramname"> <em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gint&nbsp;</td>
          <td class="paramname"> <em>num</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a cursor for a GridFS chunked file. </p>
<p>The cursor can be used (via mongo_sync_gridfs_file_cursor_get_chunk()) to retrieve a GridFS file chunk by chunk.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>gfile</em>&nbsp;</td><td>is the GridFS chunked file to work with. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>start</em>&nbsp;</td><td>is the starting chunk. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num</em>&nbsp;</td><td>is the total number of chunks to make a cursor for.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A newly allocated cursor object, or NULL on error. It is the responsibility of the caller to free the cursor once it is no longer needed. </dd></dl>

<p>Definition at line <a class="el" href="sync-gridfs-chunk_8c_source.html#l00125">125</a> of file <a class="el" href="sync-gridfs-chunk_8c_source.html">sync-gridfs-chunk.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__mongo__sync__gridfs__chunk__api_gabff321c07bade7b3528b9beda6de72de_cgraph.png" border="0" usemap="#group__mongo__sync__gridfs__chunk__api_gabff321c07bade7b3528b9beda6de72de_cgraph" alt=""/></div>
<map name="group__mongo__sync__gridfs__chunk__api_gabff321c07bade7b3528b9beda6de72de_cgraph" id="group__mongo__sync__gridfs__chunk__api_gabff321c07bade7b3528b9beda6de72de_cgraph">
<area shape="rect" id="node3" href="group__bson__append.html#ga7cd6c6aa24becb47c21cbf5e462194fe" title="Append an ObjectID to a BSON object." alt="" coords="391,5,524,35"/><area shape="rect" id="node5" href="group__bson__object__access.html#gaa9919014ef9d2e2c1b04efa31e0f2124" title="Finish a BSON object." alt="" coords="411,59,504,88"/><area shape="rect" id="node7" href="group__bson__object__access.html#ga1c0a306bfbe71d42218a3882ed188dd8" title="Free the memory associated with a BSON object." alt="" coords="415,112,500,141"/><area shape="rect" id="node9" href="group__bson__object__access.html#ga5880491cfbf32f576ca7ed289c7a5d6c" title="Create a new BSON object, preallocating a given amount of space." alt="" coords="395,165,520,195"/><area shape="rect" id="node11" href="group__mongo__sync.html#ga0349cd2e80d82f52544dbafe1dcb8cdd" title="Send a query command to MongoDB." alt="" coords="367,219,548,248"/><area shape="rect" id="node21" href="group__mongo__sync__cursor.html#ga4086f81f5805f6f48f9611ea7ec2fa4c" title="Create a new MongoDB Cursor." alt="" coords="367,272,548,301"/><area shape="rect" id="node13" href="group__mongo__client.html#ga70ff2b3c762e7a40f9d7f6df7a9e6e99" title="Get the last requestID from a connection object." alt="" coords="612,165,849,195"/><area shape="rect" id="node15" href="group__mongo__wire__cmd.html#ga07c82c11f2e103a79b88f22bdb586472" title="Construct a query command." alt="" coords="643,219,819,248"/><area shape="rect" id="node17" href="group__bson__object__access.html#ga053d619f59aa8effe973b5b8077fb57b" title="Return the raw bytestream form of the BSON object." alt="" coords="975,165,1063,195"/><area shape="rect" id="node19" href="group__bson__object__access.html#ga57fb6a03f8e9948901945f4b5fc0793c" title="Return the size of a finished BSON object." alt="" coords="976,219,1061,248"/><area shape="rect" id="node23" href="group__mongo__wire__reply.html#ga5d207b5b89cfee839f2129251aab5261" title="Get the header of a reply packet." alt="" coords="597,272,864,301"/><area shape="rect" id="node25" href="group__mongo__wire__packet.html#ga5350d54b0a6800ecd7df81d5c2b80c6b" title="Get the data part of a packet." alt="" coords="912,272,1125,301"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaf846c1a66d71b6d94cf441dad75a8546"></a><!-- doxytag: member="sync&#45;gridfs&#45;chunk.h::mongo_sync_gridfs_chunked_file_free" ref="gaf846c1a66d71b6d94cf441dad75a8546" args="(mongo_sync_gridfs_chunked_file *gfile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mongo_sync_gridfs_chunked_file_free </td>
          <td>(</td>
          <td class="paramtype">mongo_sync_gridfs_chunked_file *&nbsp;</td>
          <td class="paramname"> <em>gfile</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Free a GridFS chunked file object. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>gfile</em>&nbsp;</td><td>is the file object to free. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="sync-gridfs-chunk_8c_source.html#l00028">28</a> of file <a class="el" href="sync-gridfs-chunk_8c_source.html">sync-gridfs-chunk.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__mongo__sync__gridfs__chunk__api_gaf846c1a66d71b6d94cf441dad75a8546_cgraph.png" border="0" usemap="#group__mongo__sync__gridfs__chunk__api_gaf846c1a66d71b6d94cf441dad75a8546_cgraph" alt=""/></div>
<map name="group__mongo__sync__gridfs__chunk__api_gaf846c1a66d71b6d94cf441dad75a8546_cgraph" id="group__mongo__sync__gridfs__chunk__api_gaf846c1a66d71b6d94cf441dad75a8546_cgraph">
<area shape="rect" id="node3" href="group__bson__object__access.html#ga1c0a306bfbe71d42218a3882ed188dd8" title="Free the memory associated with a BSON object." alt="" coords="317,5,403,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__mongo__sync__gridfs__chunk__api_gaf846c1a66d71b6d94cf441dad75a8546_icgraph.png" border="0" usemap="#group__mongo__sync__gridfs__chunk__api_gaf846c1a66d71b6d94cf441dad75a8546_icgraph" alt=""/></div>
<map name="group__mongo__sync__gridfs__chunk__api_gaf846c1a66d71b6d94cf441dad75a8546_icgraph" id="group__mongo__sync__gridfs__chunk__api_gaf846c1a66d71b6d94cf441dad75a8546_icgraph">
<area shape="rect" id="node3" href="group__mongo__sync__gridfs__chunk__api.html#ga54de2ac6d88a819b4c6b9a1560fbe9c0" title="Find a file on GridFS." alt="" coords="319,5,553,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaf398eaa2d1bfb24f879af6f6899c8278"></a><!-- doxytag: member="sync&#45;gridfs&#45;chunk.h::mongo_sync_gridfs_chunked_file_new_from_buffer" ref="gaf398eaa2d1bfb24f879af6f6899c8278" args="(mongo_sync_gridfs *gfs, const bson *metadata, const guint8 *data, gint64 size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mongo_sync_gridfs_chunked_file* mongo_sync_gridfs_chunked_file_new_from_buffer </td>
          <td>(</td>
          <td class="paramtype">mongo_sync_gridfs *&nbsp;</td>
          <td class="paramname"> <em>gfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bson *&nbsp;</td>
          <td class="paramname"> <em>metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const guint8 *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gint64&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Upload a file to GridFS from a buffer. </p>
<p>Create a new file on GridFS from a buffer, using custom meta-data.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>gfs</em>&nbsp;</td><td>is the GridFS to create the file on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>metadata</em>&nbsp;</td><td>is the (optional) file metadata. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>is the data to store on GridFS. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>is the size of the data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A newly allocated file object, or NULL on error. It is the responsibility of the caller to free the returned object once it is no longer needed.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>The metadata MUST NOT contain any of the required GridFS metadata fields (_id, length, chunkSize, uploadDate, md5), otherwise a conflict will occurr, against which the function does not guard by design. </dd></dl>

<p>Definition at line <a class="el" href="sync-gridfs-chunk_8c_source.html#l00196">196</a> of file <a class="el" href="sync-gridfs-chunk_8c_source.html">sync-gridfs-chunk.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__mongo__sync__gridfs__chunk__api_gaf398eaa2d1bfb24f879af6f6899c8278_cgraph.png" border="0" usemap="#group__mongo__sync__gridfs__chunk__api_gaf398eaa2d1bfb24f879af6f6899c8278_cgraph" alt=""/></div>
<map name="group__mongo__sync__gridfs__chunk__api_gaf398eaa2d1bfb24f879af6f6899c8278_cgraph" id="group__mongo__sync__gridfs__chunk__api_gaf398eaa2d1bfb24f879af6f6899c8278_cgraph">
<area shape="rect" id="node3" href="group__bson__append.html#gabf4bfc2b62a818ab8e9248ea45300c2f" title="Append a BSON binary blob to a BSON object." alt="" coords="420,5,575,35"/><area shape="rect" id="node5" href="group__bson__append.html#gad5d474c266b6ee9278e339eb78126b00" title="Append a 32&#45;bit integer to a BSON object." alt="" coords="424,59,571,88"/><area shape="rect" id="node7" href="group__bson__append.html#gab0979b4d3c788c2bf1f4e6eb05819487" title="Append a 64&#45;bit integer to a BSON object." alt="" coords="424,112,571,141"/><area shape="rect" id="node9" href="group__bson__append.html#ga7cd6c6aa24becb47c21cbf5e462194fe" title="Append an ObjectID to a BSON object." alt="" coords="431,165,564,195"/><area shape="rect" id="node11" href="group__bson__append.html#ga96b16e53097496dcf333f09d29b04aa8" title="Append a string to a BSON object." alt="" coords="423,219,572,248"/><area shape="rect" id="node13" href="group__bson__append.html#ga992d772023b4ff3eaa30d9e6d7059c77" title="Append an UTC datetime to a BSON object." alt="" coords="397,272,597,301"/><area shape="rect" id="node15" href="group__bson__cursor.html#gab9c63d49d46c04b2e5ffbdd9d9ee12d9" title="Move the cursor to a given key." alt="" coords="967,272,1097,301"/><area shape="rect" id="node17" href="group__bson__object__access.html#ga57fb6a03f8e9948901945f4b5fc0793c" title="Return the size of a finished BSON object." alt="" coords="1203,431,1288,460"/><area shape="rect" id="node19" href="group__bson__cursor.html#gaae32a6eae2be182d26c8f2a79a07ac12" title="Delete a cursor, and free up all resources used by it." alt="" coords="689,427,820,456"/><area shape="rect" id="node21" href="group__bson__cursor.html#ga45e3ec430a9b23b9512d5119b63f4c23" title="Get the value stored at the cursor, as an ObjectID." alt="" coords="677,685,832,715"/><area shape="rect" id="node23" href="group__bson__object__access.html#ga053d619f59aa8effe973b5b8077fb57b" title="Return the raw bytestream form of the BSON object." alt="" coords="1201,715,1289,744"/><area shape="rect" id="node25" href="group__bson__cursor.html#ga657fb2f0fecd190b824d3e38936b1d4d" title="Get the value stored at the cursor, as string." alt="" coords="669,739,840,768"/><area shape="rect" id="node29" href="group__bson__cursor.html#ga8020ba70e4514954a5a5ebe37baa2bcb" title="Create a new cursor positioned at a given key." alt="" coords="456,376,539,405"/><area shape="rect" id="node36" href="group__bson__object__access.html#gaa9919014ef9d2e2c1b04efa31e0f2124" title="Finish a BSON object." alt="" coords="451,837,544,867"/><area shape="rect" id="node38" href="group__bson__object__access.html#ga1c0a306bfbe71d42218a3882ed188dd8" title="Free the memory associated with a BSON object." alt="" coords="455,891,540,920"/><area shape="rect" id="node40" href="group__bson__object__access.html#gad456a97b9a887b96373b8e519d76ecff" title="Create a BSON object from existing data." alt="" coords="419,944,576,973"/><area shape="rect" id="node42" href="group__bson__object__access.html#ga5880491cfbf32f576ca7ed289c7a5d6c" title="Create a new BSON object, preallocating a given amount of space." alt="" coords="435,997,560,1027"/><area shape="rect" id="node45" href="group__mongo__client.html#ga70ff2b3c762e7a40f9d7f6df7a9e6e99" title="Get the last requestID from a connection object." alt="" coords="913,637,1151,667"/><area shape="rect" id="node47" href="group__mongo__sync.html#ga3a2312f2c0a7e6c9a4c8d0eb57051f65" title="Send an insert command to MongoDB." alt="" coords="407,531,588,560"/><area shape="rect" id="node58" href="group__mongo__util.html#ga692cc07bb07d2eb6a0026325e2fc13c8" title="Generate a new ObjectID." alt="" coords="423,1051,572,1080"/><area shape="rect" id="node32" href="group__bson__cursor.html#gadcac4b9c2076afa5e7e656baed077b18" title="Create a new cursor." alt="" coords="967,377,1097,407"/><area shape="rect" id="node50" href="group__mongo__sync.html#ga60b1dea6c43b120d84f6d424e773f52b" title="Send an insert command to MongoDB." alt="" coords="657,581,852,611"/><area shape="rect" id="node54" href="group__mongo__wire__cmd.html#ga96457147e0540ea46503ca61f87c566b" title="Construct an insert command with N documents." alt="" coords="936,584,1128,613"/><area shape="rect" id="node60" href="group__mongo__util.html#ga1f3b0421ba55bc6b63d172b29f710a57" title="Generate a new ObjectID, with a predefined timestamp." alt="" coords="645,1051,864,1080"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga54de2ac6d88a819b4c6b9a1560fbe9c0"></a><!-- doxytag: member="sync&#45;gridfs&#45;chunk.h::mongo_sync_gridfs_chunked_find" ref="ga54de2ac6d88a819b4c6b9a1560fbe9c0" args="(mongo_sync_gridfs *gfs, const bson *query)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mongo_sync_gridfs_chunked_file* mongo_sync_gridfs_chunked_find </td>
          <td>(</td>
          <td class="paramtype">mongo_sync_gridfs *&nbsp;</td>
          <td class="paramname"> <em>gfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bson *&nbsp;</td>
          <td class="paramname"> <em>query</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Find a file on GridFS. </p>
<p>Finds a file on GridFS, based on a custom query.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>gfs</em>&nbsp;</td><td>is the GridFS to find the file in. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>query</em>&nbsp;</td><td>is the custom query based on which the file shall be sought.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A newly allocated chunked file object, or NULL on error. It is the responsibility of the caller to free the returned object once it is no longer needed. </dd></dl>

<p>Definition at line <a class="el" href="sync-gridfs-chunk_8c_source.html#l00042">42</a> of file <a class="el" href="sync-gridfs-chunk_8c_source.html">sync-gridfs-chunk.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__mongo__sync__gridfs__chunk__api_ga54de2ac6d88a819b4c6b9a1560fbe9c0_cgraph.png" border="0" usemap="#group__mongo__sync__gridfs__chunk__api_ga54de2ac6d88a819b4c6b9a1560fbe9c0_cgraph" alt=""/></div>
<map name="group__mongo__sync__gridfs__chunk__api_ga54de2ac6d88a819b4c6b9a1560fbe9c0_cgraph" id="group__mongo__sync__gridfs__chunk__api_ga54de2ac6d88a819b4c6b9a1560fbe9c0_cgraph">
<area shape="rect" id="node3" href="group__bson__cursor.html#gab9c63d49d46c04b2e5ffbdd9d9ee12d9" title="Move the cursor to a given key." alt="" coords="721,388,852,417"/><area shape="rect" id="node7" href="group__bson__cursor.html#gaae32a6eae2be182d26c8f2a79a07ac12" title="Delete a cursor, and free up all resources used by it." alt="" coords="721,441,852,470"/><area shape="rect" id="node9" href="group__bson__cursor.html#ga869b17014b3863a8ae0cda9eb82bb5ac" title="Get the value stored at the cursor, as a 32&#45;bit integer." alt="" coords="704,25,869,54"/><area shape="rect" id="node13" href="group__bson__cursor.html#ga50f3858c3ce2d30a15544cf46887be50" title="Get the value stored at the cursor, as a 64&#45;bit integer." alt="" coords="365,77,531,106"/><area shape="rect" id="node16" href="group__bson__cursor.html#ga45e3ec430a9b23b9512d5119b63f4c23" title="Get the value stored at the cursor, as an ObjectID." alt="" coords="371,130,525,160"/><area shape="rect" id="node19" href="group__bson__cursor.html#ga657fb2f0fecd190b824d3e38936b1d4d" title="Get the value stored at the cursor, as string." alt="" coords="363,184,533,213"/><area shape="rect" id="node22" href="group__bson__cursor.html#gafb2e3e6476a62b44cf6ec3e41c990fab" title="Get the value stored at the cursor, as an UTC datetime." alt="" coords="339,237,557,266"/><area shape="rect" id="node25" href="group__bson__cursor.html#ga8020ba70e4514954a5a5ebe37baa2bcb" title="Create a new cursor positioned at a given key." alt="" coords="407,498,489,528"/><area shape="rect" id="node32" href="group__bson__object__access.html#gaa9919014ef9d2e2c1b04efa31e0f2124" title="Finish a BSON object." alt="" coords="401,445,495,474"/><area shape="rect" id="node34" href="group__mongo__sync.html#ga0349cd2e80d82f52544dbafe1dcb8cdd" title="Send a query command to MongoDB." alt="" coords="357,290,539,320"/><area shape="rect" id="node42" href="group__mongo__sync__gridfs__chunk__api.html#gaf846c1a66d71b6d94cf441dad75a8546" title="Free a GridFS chunked file object." alt="" coords="317,552,579,581"/><area shape="rect" id="node46" href="group__mongo__wire__packet.html#ga84ffaee415e08bb61456dc2abfbfa6c6" title="Free up a mongo packet." alt="" coords="357,605,539,634"/><area shape="rect" id="node48" href="group__mongo__wire__reply.html#ga3f074589b15788ce7fd8e67867864033" title="Get the Nth document from a reply packet." alt="" coords="291,682,605,712"/><area shape="rect" id="node5" href="group__bson__object__access.html#ga57fb6a03f8e9948901945f4b5fc0793c" title="Return the size of a finished BSON object." alt="" coords="1032,441,1117,470"/><area shape="rect" id="node11" href="group__bson__object__access.html#ga053d619f59aa8effe973b5b8077fb57b" title="Return the raw bytestream form of the BSON object." alt="" coords="1031,153,1119,182"/><area shape="rect" id="node28" href="group__bson__cursor.html#gadcac4b9c2076afa5e7e656baed077b18" title="Create a new cursor." alt="" coords="721,545,852,574"/><area shape="rect" id="node36" href="group__mongo__client.html#ga70ff2b3c762e7a40f9d7f6df7a9e6e99" title="Get the last requestID from a connection object." alt="" coords="668,334,905,364"/><area shape="rect" id="node38" href="group__mongo__wire__cmd.html#ga07c82c11f2e103a79b88f22bdb586472" title="Construct a query command." alt="" coords="699,281,875,310"/><area shape="rect" id="node44" href="group__bson__object__access.html#ga1c0a306bfbe71d42218a3882ed188dd8" title="Free the memory associated with a BSON object." alt="" coords="744,598,829,628"/><area shape="rect" id="node50" href="group__bson__object__access.html#gad456a97b9a887b96373b8e519d76ecff" title="Create a BSON object from existing data." alt="" coords="708,652,865,681"/><area shape="rect" id="node52" href="group__mongo__wire__reply.html#gad4378c89fad2dc0834eb0e709d6124b2" title="Get the full data part of a reply packet." alt="" coords="661,758,912,788"/><area shape="rect" id="node56" href="group__mongo__wire__reply.html#ga5d207b5b89cfee839f2129251aab5261" title="Get the header of a reply packet." alt="" coords="653,705,920,734"/><area shape="rect" id="node54" href="group__mongo__wire__packet.html#ga5350d54b0a6800ecd7df81d5c2b80c6b" title="Get the data part of a packet." alt="" coords="968,732,1181,761"/></map>
</div>
</p>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Tue Jul 19 2011 20:23:05 for libmongo-client by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
