<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>libmongo-client: Mongo Sync API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>Mongo Sync API</h1>  </div>
</div>
<div class="contents">

<p>These commands provide wrappers for the most often used MongoDB commands.  
<a href="#_details">More...</a></p>

<p><div class="dynheader">
Collaboration diagram for Mongo Sync API:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__mongo__sync.png" border="0" alt="" usemap="#group____mongo____sync"/>
<map name="group____mongo____sync" id="group____mongo____sync">
<area shape="rect" id="node1" href="group__mongo__sync__cursor.html" title="Mongo Sync Cursor API" alt="" coords="179,5,349,35"/><area shape="rect" id="node3" href="group__mongo__sync__pool__api.html" title="These commands implement connection pooling over the mongo_sync family of commands." alt="" coords="187,59,341,88"/></map>
</td></tr></table></center>
</div>
</p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="groups"></a>
Modules</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync__cursor.html">Mongo Sync Cursor API</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync__pool__api.html">Mongo Sync Pool API</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>These commands implement connection pooling over the mongo_sync family of commands. </p>
<br/></td></tr>
</p>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">mongo_sync_connection *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync.html#ga731774e2a0026cda4467193a83b6f64a">mongo_sync_connect</a> (const gchar *host, gint port, gboolean slaveok)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Synchronously connect to a MongoDB server.  <a href="#ga731774e2a0026cda4467193a83b6f64a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync.html#gae8120d828d47e9e33e024c5ccbe53d5c">mongo_sync_conn_seed_add</a> (mongo_sync_connection *conn, const gchar *host, gint port)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a seed to an existing MongoDB connection.  <a href="#gae8120d828d47e9e33e024c5ccbe53d5c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">mongo_sync_connection *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync.html#gae47159f902ced01122d46bb614091a6d">mongo_sync_reconnect</a> (mongo_sync_connection *conn, gboolean force_master)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Attempt to connect to another member of a replica set.  <a href="#gae47159f902ced01122d46bb614091a6d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync.html#gab5fa65825c2bc29fdea7d925237556d5">mongo_sync_disconnect</a> (mongo_sync_connection *conn)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Close and free a synchronous MongoDB connection.  <a href="#gab5fa65825c2bc29fdea7d925237556d5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync.html#ga3da493c75a92a589ab1470c2a0da89a3">mongo_sync_conn_get_slaveok</a> (const mongo_sync_connection *conn)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieve the state of the SLAVE_OK flag from a sync connection.  <a href="#ga3da493c75a92a589ab1470c2a0da89a3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync.html#gadd464da5d3306f50f4eedafb56081119">mongo_sync_conn_set_slaveok</a> (mongo_sync_connection *conn, gboolean slaveok)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the SLAVE_OK flag on a sync connection.  <a href="#gadd464da5d3306f50f4eedafb56081119"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync.html#gab745ae594c27175fc05414429a72551c">mongo_sync_conn_get_safe_mode</a> (const mongo_sync_connection *conn)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieve the state of the safe mode flag from a sync connection.  <a href="#gab745ae594c27175fc05414429a72551c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync.html#gaffcb8741b173216de6457c15121f6f66">mongo_sync_conn_set_safe_mode</a> (mongo_sync_connection *conn, gboolean safe_mode)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the safe mode flag on a sync connection.  <a href="#gaffcb8741b173216de6457c15121f6f66"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync.html#gaf680bbf48f7c1704da3e5fc498ab78e4">mongo_sync_conn_get_auto_reconnect</a> (const mongo_sync_connection *conn)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the state of the auto-reconnect flag from a sync connection.  <a href="#gaf680bbf48f7c1704da3e5fc498ab78e4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync.html#ga68bd49843b1351c6549b92d5b9150195">mongo_sync_conn_set_auto_reconnect</a> (mongo_sync_connection *conn, gboolean auto_reconnect)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the state of the auto-reconnect flag on a sync connection.  <a href="#ga68bd49843b1351c6549b92d5b9150195"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">gint32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync.html#gab37fe46132eea00fb9c5d850b638fe71">mongo_sync_conn_get_max_insert_size</a> (mongo_sync_connection *conn)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the maximum size of a bulk insert package.  <a href="#gab37fe46132eea00fb9c5d850b638fe71"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync.html#ga61e96dc6f14ffd14070d0e3365ae91e5">mongo_sync_conn_set_max_insert_size</a> (mongo_sync_connection *conn, gint32 max_size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the maximum size of a bulk insert package.  <a href="#ga61e96dc6f14ffd14070d0e3365ae91e5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync.html#gae299d207c5afabc9f114bab874454c12">mongo_sync_cmd_update</a> (mongo_sync_connection *conn, const gchar *ns, gint32 flags, const bson *selector, const bson *update)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send an update command to MongoDB.  <a href="#gae299d207c5afabc9f114bab874454c12"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync.html#ga3a2312f2c0a7e6c9a4c8d0eb57051f65">mongo_sync_cmd_insert</a> (mongo_sync_connection *conn, const gchar *ns,...) G_GNUC_NULL_TERMINATED</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send an insert command to MongoDB.  <a href="#ga3a2312f2c0a7e6c9a4c8d0eb57051f65"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync.html#ga60b1dea6c43b120d84f6d424e773f52b">mongo_sync_cmd_insert_n</a> (mongo_sync_connection *conn, const gchar *ns, gint32 n, const bson **docs)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send an insert command to MongoDB.  <a href="#ga60b1dea6c43b120d84f6d424e773f52b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">mongo_packet *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync.html#ga0349cd2e80d82f52544dbafe1dcb8cdd">mongo_sync_cmd_query</a> (mongo_sync_connection *conn, const gchar *ns, gint32 flags, gint32 skip, gint32 ret, const bson *query, const bson *sel)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a query command to MongoDB.  <a href="#ga0349cd2e80d82f52544dbafe1dcb8cdd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">mongo_packet *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync.html#ga4748ae0caf5b361929580d42ff369815">mongo_sync_cmd_get_more</a> (mongo_sync_connection *conn, const gchar *ns, gint32 ret, gint64 cursor_id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a get more command to MongoDB.  <a href="#ga4748ae0caf5b361929580d42ff369815"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync.html#ga342218b37c0b0d4beafd7071b530ee1f">mongo_sync_cmd_delete</a> (mongo_sync_connection *conn, const gchar *ns, gint32 flags, const bson *sel)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a delete command to MongoDB.  <a href="#ga342218b37c0b0d4beafd7071b530ee1f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync.html#ga96a2018a7b4f04e73e19da2eadf8d3e4">mongo_sync_cmd_kill_cursors</a> (mongo_sync_connection *conn, gint32 n,...)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a kill_cursors command to MongoDB.  <a href="#ga96a2018a7b4f04e73e19da2eadf8d3e4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">mongo_packet *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync.html#ga3980761b18bae206e6564db6483924df">mongo_sync_cmd_custom</a> (mongo_sync_connection *conn, const gchar *db, const bson *command)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a custom command to MongoDB.  <a href="#ga3980761b18bae206e6564db6483924df"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">gdouble&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync.html#gaedac9fdb1e5ec77e0fedd2289d5a8c18">mongo_sync_cmd_count</a> (mongo_sync_connection *conn, const gchar *db, const gchar *coll, const bson *query)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a count() command to MongoDB.  <a href="#gaedac9fdb1e5ec77e0fedd2289d5a8c18"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync.html#ga624676afff72705c88ecc545f98c5378">mongo_sync_cmd_drop</a> (mongo_sync_connection *conn, const gchar *db, const gchar *coll)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a drop() command to MongoDB.  <a href="#ga624676afff72705c88ecc545f98c5378"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync.html#gaf58b4929296fa55335f209dbbe7370e2">mongo_sync_cmd_get_last_error</a> (mongo_sync_connection *conn, const gchar *db, gchar **error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the last error from MongoDB.  <a href="#gaf58b4929296fa55335f209dbbe7370e2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync.html#ga46b67cfe6443950b6083b5d668e9f37e">mongo_sync_cmd_reset_error</a> (mongo_sync_connection *conn, const gchar *db)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reset the last error variable in MongoDB.  <a href="#ga46b67cfe6443950b6083b5d668e9f37e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync.html#ga68dba9bac0f92adc2b3de62a357d6854">mongo_sync_cmd_is_master</a> (mongo_sync_connection *conn)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check whether the current node is the master.  <a href="#ga68dba9bac0f92adc2b3de62a357d6854"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync.html#gadbc79fc4f323ba7df77fe54f669ebfb0">mongo_sync_cmd_ping</a> (mongo_sync_connection *conn)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a PING command to MongoDB.  <a href="#gadbc79fc4f323ba7df77fe54f669ebfb0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync.html#ga7864f55710c0bdec14f75a936209b56e">mongo_sync_cmd_user_add</a> (mongo_sync_connection *conn, const gchar *db, const gchar *user, const gchar *pw)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a user to MongoDB.  <a href="#ga7864f55710c0bdec14f75a936209b56e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync.html#gafa69e77be5c3686a11e0648a3190621c">mongo_sync_cmd_user_remove</a> (mongo_sync_connection *conn, const gchar *db, const gchar *user)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove a user from MongoDB.  <a href="#gafa69e77be5c3686a11e0648a3190621c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mongo__sync.html#ga7d3aeae73f1d63aa6654ab11e51d3e59">mongo_sync_cmd_authenticate</a> (mongo_sync_connection *conn, const gchar *db, const gchar *user, const gchar *pw)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Authenticate a user with MongoDB.  <a href="#ga7d3aeae73f1d63aa6654ab11e51d3e59"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>These commands provide wrappers for the most often used MongoDB commands. </p>
<p>All of these will send the command, and receive any results, thus saving the caller from having to do that himself.</p>
<p>However, these are only of use when blocking the application is not an issue. For asynchronous operation, one should still construct the packets himself, and send / receive when appropriate. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga7d3aeae73f1d63aa6654ab11e51d3e59"></a><!-- doxytag: member="mongo&#45;sync.h::mongo_sync_cmd_authenticate" ref="ga7d3aeae73f1d63aa6654ab11e51d3e59" args="(mongo_sync_connection *conn, const gchar *db, const gchar *user, const gchar *pw)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean mongo_sync_cmd_authenticate </td>
          <td>(</td>
          <td class="paramtype">mongo_sync_connection *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>pw</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Authenticate a user with MongoDB. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>is the connection to work with. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>db</em>&nbsp;</td><td>is the database to authenticate against. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user</em>&nbsp;</td><td>is the username. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pw</em>&nbsp;</td><td>is the password.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE on success, FALSE otherwise. </dd></dl>

<p>Definition at line <a class="el" href="mongo-sync_8c_source.html#l01499">1499</a> of file <a class="el" href="mongo-sync_8c_source.html">mongo-sync.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaedac9fdb1e5ec77e0fedd2289d5a8c18"></a><!-- doxytag: member="mongo&#45;sync.h::mongo_sync_cmd_count" ref="gaedac9fdb1e5ec77e0fedd2289d5a8c18" args="(mongo_sync_connection *conn, const gchar *db, const gchar *coll, const bson *query)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gdouble mongo_sync_cmd_count </td>
          <td>(</td>
          <td class="paramtype">mongo_sync_connection *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>coll</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bson *&nbsp;</td>
          <td class="paramname"> <em>query</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send a count() command to MongoDB. </p>
<p>The count command is an efficient way to count tha available documents matching a selector.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>is the connection to work with. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>db</em>&nbsp;</td><td>is the name of the database. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>coll</em>&nbsp;</td><td>is the name of the collection. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>query</em>&nbsp;</td><td>is the optional selector (NULL will count all documents within the collection).</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of matching documents, or -1 on error. </dd></dl>

<p>Definition at line <a class="el" href="mongo-sync_8c_source.html#l00955">955</a> of file <a class="el" href="mongo-sync_8c_source.html">mongo-sync.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__mongo__sync_gaedac9fdb1e5ec77e0fedd2289d5a8c18_cgraph.png" border="0" usemap="#group__mongo__sync_gaedac9fdb1e5ec77e0fedd2289d5a8c18_cgraph" alt=""/></div>
<map name="group__mongo__sync_gaedac9fdb1e5ec77e0fedd2289d5a8c18_cgraph" id="group__mongo__sync_gaedac9fdb1e5ec77e0fedd2289d5a8c18_cgraph">
<area shape="rect" id="node3" href="group__bson__append.html#gab2673b16bf736e1093fadc32154454be" title="Append a BSON document to a BSON object." alt="" coords="303,5,481,35"/><area shape="rect" id="node5" href="group__bson__append.html#ga96b16e53097496dcf333f09d29b04aa8" title="Append a string to a BSON object." alt="" coords="317,59,467,88"/><area shape="rect" id="node7" href="group__bson__cursor.html#gaae32a6eae2be182d26c8f2a79a07ac12" title="Delete a cursor, and free up all resources used by it." alt="" coords="327,112,457,141"/><area shape="rect" id="node9" href="group__bson__cursor.html#ga10e9c6f2686c407daa77d46e8c5d88b4" title="Get the value stored at the cursor, as a double." alt="" coords="303,165,481,195"/><area shape="rect" id="node13" href="group__bson__cursor.html#ga8020ba70e4514954a5a5ebe37baa2bcb" title="Create a new cursor positioned at a given key." alt="" coords="351,219,433,248"/><area shape="rect" id="node16" href="group__bson__object__access.html#ga57fb6a03f8e9948901945f4b5fc0793c" title="Return the size of a finished BSON object." alt="" coords="688,257,773,287"/><area shape="rect" id="node18" href="group__bson__object__access.html#gaa9919014ef9d2e2c1b04efa31e0f2124" title="Finish a BSON object." alt="" coords="345,323,439,352"/><area shape="rect" id="node20" href="group__bson__object__access.html#ga1c0a306bfbe71d42218a3882ed188dd8" title="Free the memory associated with a BSON object." alt="" coords="349,376,435,405"/><area shape="rect" id="node22" href="group__bson__object__access.html#ga5880491cfbf32f576ca7ed289c7a5d6c" title="Create a new BSON object, preallocating a given amount of space." alt="" coords="329,429,455,459"/><area shape="rect" id="node25" href="group__mongo__wire__packet.html#ga84ffaee415e08bb61456dc2abfbfa6c6" title="Free up a mongo packet." alt="" coords="301,483,483,512"/><area shape="rect" id="node27" href="group__mongo__wire__reply.html#ga3f074589b15788ce7fd8e67867864033" title="Get the Nth document from a reply packet." alt="" coords="235,536,549,565"/><area shape="rect" id="node11" href="group__bson__object__access.html#ga053d619f59aa8effe973b5b8077fb57b" title="Return the raw bytestream form of the BSON object." alt="" coords="687,179,775,208"/><area shape="rect" id="node29" href="group__bson__object__access.html#gad456a97b9a887b96373b8e519d76ecff" title="Create a BSON object from existing data." alt="" coords="652,483,809,512"/><area shape="rect" id="node31" href="group__mongo__wire__reply.html#gad4378c89fad2dc0834eb0e709d6124b2" title="Get the full data part of a reply packet." alt="" coords="605,536,856,565"/><area shape="rect" id="node35" href="group__mongo__wire__reply.html#ga5d207b5b89cfee839f2129251aab5261" title="Get the header of a reply packet." alt="" coords="597,589,864,619"/><area shape="rect" id="node33" href="group__mongo__wire__packet.html#ga5350d54b0a6800ecd7df81d5c2b80c6b" title="Get the data part of a packet." alt="" coords="912,563,1125,592"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga3980761b18bae206e6564db6483924df"></a><!-- doxytag: member="mongo&#45;sync.h::mongo_sync_cmd_custom" ref="ga3980761b18bae206e6564db6483924df" args="(mongo_sync_connection *conn, const gchar *db, const bson *command)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mongo_packet* mongo_sync_cmd_custom </td>
          <td>(</td>
          <td class="paramtype">mongo_sync_connection *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bson *&nbsp;</td>
          <td class="paramname"> <em>command</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send a custom command to MongoDB. </p>
<p>Custom commands are queries run in the db.$cmd namespace. The commands themselves are queries, and as such, BSON objects.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>is the connection to work with. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>db</em>&nbsp;</td><td>is the database in which the command shall be run. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>command</em>&nbsp;</td><td>is the BSON object representing the command.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A newly allocated reply packet, or NULL on error. It is the responsibility of the caller to free the packet once it is not used anymore. </dd></dl>

<p>Definition at line <a class="el" href="mongo-sync_8c_source.html#l00947">947</a> of file <a class="el" href="mongo-sync_8c_source.html">mongo-sync.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga342218b37c0b0d4beafd7071b530ee1f"></a><!-- doxytag: member="mongo&#45;sync.h::mongo_sync_cmd_delete" ref="ga342218b37c0b0d4beafd7071b530ee1f" args="(mongo_sync_connection *conn, const gchar *ns, gint32 flags, const bson *sel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean mongo_sync_cmd_delete </td>
          <td>(</td>
          <td class="paramtype">mongo_sync_connection *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gint32&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bson *&nbsp;</td>
          <td class="paramname"> <em>sel</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send a delete command to MongoDB. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>is the connection to work with. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ns</em>&nbsp;</td><td>is the namespace, the database and collection name concatenated, and separated with a single dot. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>are the delete options. See <a class="el" href="group__mongo__wire__cmd.html#ga485e6a565866a9fa2ec4251e052ac060" title="Construct a delete command.">mongo_wire_cmd_delete()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sel</em>&nbsp;</td><td>is the BSON object to use as a selector.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE on success, FALSE otherwise. </dd></dl>

<p>Definition at line <a class="el" href="mongo-sync_8c_source.html#l00871">871</a> of file <a class="el" href="mongo-sync_8c_source.html">mongo-sync.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__mongo__sync_ga342218b37c0b0d4beafd7071b530ee1f_cgraph.png" border="0" usemap="#group__mongo__sync_ga342218b37c0b0d4beafd7071b530ee1f_cgraph" alt=""/></div>
<map name="group__mongo__sync_ga342218b37c0b0d4beafd7071b530ee1f_cgraph" id="group__mongo__sync_ga342218b37c0b0d4beafd7071b530ee1f_cgraph">
<area shape="rect" id="node3" href="group__mongo__client.html#ga70ff2b3c762e7a40f9d7f6df7a9e6e99" title="Get the last requestID from a connection object." alt="" coords="241,5,479,35"/><area shape="rect" id="node5" href="group__mongo__wire__cmd.html#ga485e6a565866a9fa2ec4251e052ac060" title="Construct a delete command." alt="" coords="269,59,451,88"/><area shape="rect" id="node7" href="group__bson__object__access.html#ga053d619f59aa8effe973b5b8077fb57b" title="Return the raw bytestream form of the BSON object." alt="" coords="529,32,617,61"/><area shape="rect" id="node9" href="group__bson__object__access.html#ga57fb6a03f8e9948901945f4b5fc0793c" title="Return the size of a finished BSON object." alt="" coords="531,85,616,115"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga624676afff72705c88ecc545f98c5378"></a><!-- doxytag: member="mongo&#45;sync.h::mongo_sync_cmd_drop" ref="ga624676afff72705c88ecc545f98c5378" args="(mongo_sync_connection *conn, const gchar *db, const gchar *coll)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean mongo_sync_cmd_drop </td>
          <td>(</td>
          <td class="paramtype">mongo_sync_connection *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>coll</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send a drop() command to MongoDB. </p>
<p>With this command, one can easily drop a collection.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>is the connection to work with. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>db</em>&nbsp;</td><td>is the name of the database. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>coll</em>&nbsp;</td><td>is the name of the collection to drop.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE if the collection was dropped, FALSE otherwise. </dd></dl>

<p>Definition at line <a class="el" href="mongo-sync_8c_source.html#l01013">1013</a> of file <a class="el" href="mongo-sync_8c_source.html">mongo-sync.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__mongo__sync_ga624676afff72705c88ecc545f98c5378_cgraph.png" border="0" usemap="#group__mongo__sync_ga624676afff72705c88ecc545f98c5378_cgraph" alt=""/></div>
<map name="group__mongo__sync_ga624676afff72705c88ecc545f98c5378_cgraph" id="group__mongo__sync_ga624676afff72705c88ecc545f98c5378_cgraph">
<area shape="rect" id="node3" href="group__bson__append.html#ga96b16e53097496dcf333f09d29b04aa8" title="Append a string to a BSON object." alt="" coords="245,5,395,35"/><area shape="rect" id="node5" href="group__bson__object__access.html#gaa9919014ef9d2e2c1b04efa31e0f2124" title="Finish a BSON object." alt="" coords="273,59,367,88"/><area shape="rect" id="node7" href="group__bson__object__access.html#ga1c0a306bfbe71d42218a3882ed188dd8" title="Free the memory associated with a BSON object." alt="" coords="277,112,363,141"/><area shape="rect" id="node9" href="group__bson__object__access.html#ga5880491cfbf32f576ca7ed289c7a5d6c" title="Create a new BSON object, preallocating a given amount of space." alt="" coords="257,165,383,195"/><area shape="rect" id="node11" href="group__mongo__wire__packet.html#ga84ffaee415e08bb61456dc2abfbfa6c6" title="Free up a mongo packet." alt="" coords="229,219,411,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaf58b4929296fa55335f209dbbe7370e2"></a><!-- doxytag: member="mongo&#45;sync.h::mongo_sync_cmd_get_last_error" ref="gaf58b4929296fa55335f209dbbe7370e2" args="(mongo_sync_connection *conn, const gchar *db, gchar **error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean mongo_sync_cmd_get_last_error </td>
          <td>(</td>
          <td class="paramtype">mongo_sync_connection *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gchar **&nbsp;</td>
          <td class="paramname"> <em>error</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the last error from MongoDB. </p>
<p>Retrieves the last error from MongoDB.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>is the connection to work with. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>db</em>&nbsp;</td><td>is the name of the database. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>error</em>&nbsp;</td><td>is a pointer to a string variable that will hold the error message.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE if the error was succesfully retrieved, FALSE otherwise. The output variable <em>error</em> is only set if the function is returning TRUE. </dd></dl>

<p>Definition at line <a class="el" href="mongo-sync_8c_source.html#l01039">1039</a> of file <a class="el" href="mongo-sync_8c_source.html">mongo-sync.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__mongo__sync_gaf58b4929296fa55335f209dbbe7370e2_cgraph.png" border="0" usemap="#group__mongo__sync_gaf58b4929296fa55335f209dbbe7370e2_cgraph" alt=""/></div>
<map name="group__mongo__sync_gaf58b4929296fa55335f209dbbe7370e2_cgraph" id="group__mongo__sync_gaf58b4929296fa55335f209dbbe7370e2_cgraph">
<area shape="rect" id="node3" href="group__bson__append.html#gad5d474c266b6ee9278e339eb78126b00" title="Append a 32&#45;bit integer to a BSON object." alt="" coords="372,5,519,35"/><area shape="rect" id="node5" href="group__bson__object__access.html#gaa9919014ef9d2e2c1b04efa31e0f2124" title="Finish a BSON object." alt="" coords="399,59,492,88"/><area shape="rect" id="node7" href="group__bson__object__access.html#ga1c0a306bfbe71d42218a3882ed188dd8" title="Free the memory associated with a BSON object." alt="" coords="403,112,488,141"/><area shape="rect" id="node9" href="group__bson__object__access.html#ga5880491cfbf32f576ca7ed289c7a5d6c" title="Create a new BSON object, preallocating a given amount of space." alt="" coords="383,165,508,195"/><area shape="rect" id="node11" href="group__mongo__wire__packet.html#ga84ffaee415e08bb61456dc2abfbfa6c6" title="Free up a mongo packet." alt="" coords="355,219,536,248"/><area shape="rect" id="node13" href="group__mongo__wire__reply.html#ga3f074589b15788ce7fd8e67867864033" title="Get the Nth document from a reply packet." alt="" coords="288,272,603,301"/><area shape="rect" id="node15" href="group__bson__object__access.html#gad456a97b9a887b96373b8e519d76ecff" title="Create a BSON object from existing data." alt="" coords="705,219,863,248"/><area shape="rect" id="node17" href="group__mongo__wire__reply.html#gad4378c89fad2dc0834eb0e709d6124b2" title="Get the full data part of a reply packet." alt="" coords="659,272,909,301"/><area shape="rect" id="node21" href="group__mongo__wire__reply.html#ga5d207b5b89cfee839f2129251aab5261" title="Get the header of a reply packet." alt="" coords="651,325,917,355"/><area shape="rect" id="node19" href="group__mongo__wire__packet.html#ga5350d54b0a6800ecd7df81d5c2b80c6b" title="Get the data part of a packet." alt="" coords="965,299,1179,328"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga4748ae0caf5b361929580d42ff369815"></a><!-- doxytag: member="mongo&#45;sync.h::mongo_sync_cmd_get_more" ref="ga4748ae0caf5b361929580d42ff369815" args="(mongo_sync_connection *conn, const gchar *ns, gint32 ret, gint64 cursor_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mongo_packet* mongo_sync_cmd_get_more </td>
          <td>(</td>
          <td class="paramtype">mongo_sync_connection *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gint32&nbsp;</td>
          <td class="paramname"> <em>ret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gint64&nbsp;</td>
          <td class="paramname"> <em>cursor_id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send a get more command to MongoDB. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>is the connection to work with. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ns</em>&nbsp;</td><td>is the namespace, the database and collection name concatenated, and separated with a single dot. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ret</em>&nbsp;</td><td>is the number of documents to return. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cursor_id</em>&nbsp;</td><td>is the ID of the cursor to use.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A newly allocated reply packet, or NULL on error. It is the responsibility of the caller to free the packet once it is not used anymore. </dd></dl>

<p>Definition at line <a class="el" href="mongo-sync_8c_source.html#l00847">847</a> of file <a class="el" href="mongo-sync_8c_source.html">mongo-sync.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__mongo__sync_ga4748ae0caf5b361929580d42ff369815_cgraph.png" border="0" usemap="#group__mongo__sync_ga4748ae0caf5b361929580d42ff369815_cgraph" alt=""/></div>
<map name="group__mongo__sync_ga4748ae0caf5b361929580d42ff369815_cgraph" id="group__mongo__sync_ga4748ae0caf5b361929580d42ff369815_cgraph">
<area shape="rect" id="node3" href="group__mongo__client.html#ga70ff2b3c762e7a40f9d7f6df7a9e6e99" title="Get the last requestID from a connection object." alt="" coords="263,5,500,35"/><area shape="rect" id="node5" href="group__mongo__wire__cmd.html#ga9ee20dc3832cf1a950e545d4891ed7bf" title="Construct a get more command." alt="" coords="280,59,483,88"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__mongo__sync_ga4748ae0caf5b361929580d42ff369815_icgraph.png" border="0" usemap="#group__mongo__sync_ga4748ae0caf5b361929580d42ff369815_icgraph" alt=""/></div>
<map name="group__mongo__sync_ga4748ae0caf5b361929580d42ff369815_icgraph" id="group__mongo__sync_ga4748ae0caf5b361929580d42ff369815_icgraph">
<area shape="rect" id="node3" href="group__mongo__sync__cursor.html#ga321b3b8a39de8b5afd3accd9b9310d22" title="Iterate a MongoDB cursor." alt="" coords="263,5,447,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga3a2312f2c0a7e6c9a4c8d0eb57051f65"></a><!-- doxytag: member="mongo&#45;sync.h::mongo_sync_cmd_insert" ref="ga3a2312f2c0a7e6c9a4c8d0eb57051f65" args="(mongo_sync_connection *conn, const gchar *ns,...) G_GNUC_NULL_TERMINATED" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean mongo_sync_cmd_insert </td>
          <td>(</td>
          <td class="paramtype">mongo_sync_connection *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send an insert command to MongoDB. </p>
<p>Constructs and sends an insert command to MongodB.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>is the connection to work with. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ns</em>&nbsp;</td><td>is the namespace to work in. </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Template Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>docs</em>&nbsp;</td><td>are the documents to insert. One must close the list with a NULL value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE on success, FALSE otherwise. </dd></dl>

<p>Definition at line <a class="el" href="mongo-sync_8c_source.html#l00775">775</a> of file <a class="el" href="mongo-sync_8c_source.html">mongo-sync.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__mongo__sync_ga3a2312f2c0a7e6c9a4c8d0eb57051f65_cgraph.png" border="0" usemap="#group__mongo__sync_ga3a2312f2c0a7e6c9a4c8d0eb57051f65_cgraph" alt=""/></div>
<map name="group__mongo__sync_ga3a2312f2c0a7e6c9a4c8d0eb57051f65_cgraph" id="group__mongo__sync_ga3a2312f2c0a7e6c9a4c8d0eb57051f65_cgraph">
<area shape="rect" id="node3" href="group__bson__object__access.html#ga57fb6a03f8e9948901945f4b5fc0793c" title="Return the size of a finished BSON object." alt="" coords="771,29,856,59"/><area shape="rect" id="node5" href="group__mongo__sync.html#ga60b1dea6c43b120d84f6d424e773f52b" title="Send an insert command to MongoDB." alt="" coords="236,56,431,85"/><area shape="rect" id="node8" href="group__mongo__client.html#ga70ff2b3c762e7a40f9d7f6df7a9e6e99" title="Get the last requestID from a connection object." alt="" coords="481,81,719,111"/><area shape="rect" id="node10" href="group__mongo__wire__cmd.html#ga96457147e0540ea46503ca61f87c566b" title="Construct an insert command with N documents." alt="" coords="504,135,696,164"/><area shape="rect" id="node12" href="group__bson__object__access.html#ga053d619f59aa8effe973b5b8077fb57b" title="Return the raw bytestream form of the BSON object." alt="" coords="769,135,857,164"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga60b1dea6c43b120d84f6d424e773f52b"></a><!-- doxytag: member="mongo&#45;sync.h::mongo_sync_cmd_insert_n" ref="ga60b1dea6c43b120d84f6d424e773f52b" args="(mongo_sync_connection *conn, const gchar *ns, gint32 n, const bson **docs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean mongo_sync_cmd_insert_n </td>
          <td>(</td>
          <td class="paramtype">mongo_sync_connection *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gint32&nbsp;</td>
          <td class="paramname"> <em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bson **&nbsp;</td>
          <td class="paramname"> <em>docs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send an insert command to MongoDB. </p>
<p>Constructs and sends an insert command to MongodB.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>is the connection to work with. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ns</em>&nbsp;</td><td>is the namespace to work in. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>n</em>&nbsp;</td><td>is the number of documents to insert. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>docs</em>&nbsp;</td><td>is the array the documents to insert. There must be at least <em>n</em> documents in the array.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE on success, FALSE otherwise. </dd></dl>

<p>Definition at line <a class="el" href="mongo-sync_8c_source.html#l00707">707</a> of file <a class="el" href="mongo-sync_8c_source.html">mongo-sync.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__mongo__sync_ga60b1dea6c43b120d84f6d424e773f52b_cgraph.png" border="0" usemap="#group__mongo__sync_ga60b1dea6c43b120d84f6d424e773f52b_cgraph" alt=""/></div>
<map name="group__mongo__sync_ga60b1dea6c43b120d84f6d424e773f52b_cgraph" id="group__mongo__sync_ga60b1dea6c43b120d84f6d424e773f52b_cgraph">
<area shape="rect" id="node3" href="group__bson__object__access.html#ga57fb6a03f8e9948901945f4b5fc0793c" title="Return the size of a finished BSON object." alt="" coords="541,5,627,35"/><area shape="rect" id="node5" href="group__mongo__client.html#ga70ff2b3c762e7a40f9d7f6df7a9e6e99" title="Get the last requestID from a connection object." alt="" coords="252,31,489,60"/><area shape="rect" id="node7" href="group__mongo__wire__cmd.html#ga96457147e0540ea46503ca61f87c566b" title="Construct an insert command with N documents." alt="" coords="275,84,467,113"/><area shape="rect" id="node9" href="group__bson__object__access.html#ga053d619f59aa8effe973b5b8077fb57b" title="Return the raw bytestream form of the BSON object." alt="" coords="540,84,628,113"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__mongo__sync_ga60b1dea6c43b120d84f6d424e773f52b_icgraph.png" border="0" usemap="#group__mongo__sync_ga60b1dea6c43b120d84f6d424e773f52b_icgraph" alt=""/></div>
<map name="group__mongo__sync_ga60b1dea6c43b120d84f6d424e773f52b_icgraph" id="group__mongo__sync_ga60b1dea6c43b120d84f6d424e773f52b_icgraph">
<area shape="rect" id="node3" href="group__mongo__sync.html#ga3a2312f2c0a7e6c9a4c8d0eb57051f65" title="Send an insert command to MongoDB." alt="" coords="251,5,432,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga68dba9bac0f92adc2b3de62a357d6854"></a><!-- doxytag: member="mongo&#45;sync.h::mongo_sync_cmd_is_master" ref="ga68dba9bac0f92adc2b3de62a357d6854" args="(mongo_sync_connection *conn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean mongo_sync_cmd_is_master </td>
          <td>(</td>
          <td class="paramtype">mongo_sync_connection *&nbsp;</td>
          <td class="paramname"> <em>conn</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check whether the current node is the master. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>is the connection to work with.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE if it is master, FALSE otherwise and on errors. </dd></dl>

<p>Definition at line <a class="el" href="mongo-sync_8c_source.html#l01135">1135</a> of file <a class="el" href="mongo-sync_8c_source.html">mongo-sync.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__mongo__sync_ga68dba9bac0f92adc2b3de62a357d6854_cgraph.png" border="0" usemap="#group__mongo__sync_ga68dba9bac0f92adc2b3de62a357d6854_cgraph" alt=""/></div>
<map name="group__mongo__sync_ga68dba9bac0f92adc2b3de62a357d6854_cgraph" id="group__mongo__sync_ga68dba9bac0f92adc2b3de62a357d6854_cgraph">
<area shape="rect" id="node3" href="group__bson__append.html#gad5d474c266b6ee9278e339eb78126b00" title="Append a 32&#45;bit integer to a BSON object." alt="" coords="345,5,492,35"/><area shape="rect" id="node5" href="group__bson__cursor.html#gaae32a6eae2be182d26c8f2a79a07ac12" title="Delete a cursor, and free up all resources used by it." alt="" coords="353,59,484,88"/><area shape="rect" id="node7" href="group__bson__cursor.html#ga92fec73041e5d7efaf9899c5b6d37343" title="Get the value stored at the cursor, as a BSON array." alt="" coords="335,163,503,192"/><area shape="rect" id="node11" href="group__bson__object__access.html#gaa9919014ef9d2e2c1b04efa31e0f2124" title="Finish a BSON object." alt="" coords="711,105,804,135"/><area shape="rect" id="node13" href="group__bson__object__access.html#ga5880491cfbf32f576ca7ed289c7a5d6c" title="Create a new BSON object, preallocating a given amount of space." alt="" coords="695,209,820,239"/><area shape="rect" id="node15" href="group__bson__cursor.html#ga25d4336571d2954b22ef3bbfb9b53c4e" title="Get the value stored at the cursor, as a boolean." alt="" coords="664,263,851,292"/><area shape="rect" id="node18" href="group__bson__cursor.html#ga657fb2f0fecd190b824d3e38936b1d4d" title="Get the value stored at the cursor, as string." alt="" coords="672,316,843,345"/><area shape="rect" id="node21" href="group__bson__cursor.html#gadcac4b9c2076afa5e7e656baed077b18" title="Create a new cursor." alt="" coords="353,421,484,451"/><area shape="rect" id="node25" href="group__bson__cursor.html#ga88ecba6bdfb9c33a7945daddb5bcab5c" title="Position the cursor to the next key." alt="" coords="352,368,485,397"/><area shape="rect" id="node32" href="group__bson__cursor.html#ga8020ba70e4514954a5a5ebe37baa2bcb" title="Create a new cursor positioned at a given key." alt="" coords="377,475,460,504"/><area shape="rect" id="node37" href="group__bson__object__access.html#ga1c0a306bfbe71d42218a3882ed188dd8" title="Free the memory associated with a BSON object." alt="" coords="376,528,461,557"/><area shape="rect" id="node40" href="group__mongo__wire__packet.html#ga84ffaee415e08bb61456dc2abfbfa6c6" title="Free up a mongo packet." alt="" coords="328,581,509,611"/><area shape="rect" id="node42" href="group__mongo__wire__reply.html#ga3f074589b15788ce7fd8e67867864033" title="Get the Nth document from a reply packet." alt="" coords="261,635,576,664"/><area shape="rect" id="node9" href="group__bson__object__access.html#ga053d619f59aa8effe973b5b8077fb57b" title="Return the raw bytestream form of the BSON object." alt="" coords="1001,343,1089,372"/><area shape="rect" id="node23" href="group__bson__object__access.html#ga57fb6a03f8e9948901945f4b5fc0793c" title="Return the size of a finished BSON object." alt="" coords="715,473,800,503"/><area shape="rect" id="node27" href="group__bson__cursor.html#gac2b4e5dca25475ed4842ca4dd86413f3" title="Determine the type of the current element." alt="" coords="691,420,824,449"/><area shape="rect" id="node44" href="group__bson__object__access.html#gad456a97b9a887b96373b8e519d76ecff" title="Create a BSON object from existing data." alt="" coords="679,581,836,611"/><area shape="rect" id="node46" href="group__mongo__wire__reply.html#gad4378c89fad2dc0834eb0e709d6124b2" title="Get the full data part of a reply packet." alt="" coords="632,635,883,664"/><area shape="rect" id="node50" href="group__mongo__wire__reply.html#ga5d207b5b89cfee839f2129251aab5261" title="Get the header of a reply packet." alt="" coords="624,688,891,717"/><area shape="rect" id="node48" href="group__mongo__wire__packet.html#ga5350d54b0a6800ecd7df81d5c2b80c6b" title="Get the data part of a packet." alt="" coords="939,661,1152,691"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__mongo__sync_ga68dba9bac0f92adc2b3de62a357d6854_icgraph.png" border="0" usemap="#group__mongo__sync_ga68dba9bac0f92adc2b3de62a357d6854_icgraph" alt=""/></div>
<map name="group__mongo__sync_ga68dba9bac0f92adc2b3de62a357d6854_icgraph" id="group__mongo__sync_ga68dba9bac0f92adc2b3de62a357d6854_icgraph">
<area shape="rect" id="node3" href="group__mongo__sync__pool__api.html#gacdb2162ca636a523dc344b31a099ba62" title="Create a new synchronous connection pool." alt="" coords="265,5,433,35"/><area shape="rect" id="node5" href="group__mongo__sync.html#gae47159f902ced01122d46bb614091a6d" title="Attempt to connect to another member of a replica set." alt="" coords="263,83,436,112"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga96a2018a7b4f04e73e19da2eadf8d3e4"></a><!-- doxytag: member="mongo&#45;sync.h::mongo_sync_cmd_kill_cursors" ref="ga96a2018a7b4f04e73e19da2eadf8d3e4" args="(mongo_sync_connection *conn, gint32 n,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean mongo_sync_cmd_kill_cursors </td>
          <td>(</td>
          <td class="paramtype">mongo_sync_connection *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gint32&nbsp;</td>
          <td class="paramname"> <em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send a kill_cursors command to MongoDB. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>is the connection to work with. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>n</em>&nbsp;</td><td>is the number of cursors to kill. </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Template Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cursor_ids</em>&nbsp;</td><td>is the list of cursor ids to kill.</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>One must supply exaclty <em>n</em> number of cursor IDs.</dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE on success, FALSE otherwise. </dd></dl>

<p>Definition at line <a class="el" href="mongo-sync_8c_source.html#l00887">887</a> of file <a class="el" href="mongo-sync_8c_source.html">mongo-sync.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__mongo__sync_ga96a2018a7b4f04e73e19da2eadf8d3e4_cgraph.png" border="0" usemap="#group__mongo__sync_ga96a2018a7b4f04e73e19da2eadf8d3e4_cgraph" alt=""/></div>
<map name="group__mongo__sync_ga96a2018a7b4f04e73e19da2eadf8d3e4_cgraph" id="group__mongo__sync_ga96a2018a7b4f04e73e19da2eadf8d3e4_cgraph">
<area shape="rect" id="node3" href="group__mongo__client.html#ga70ff2b3c762e7a40f9d7f6df7a9e6e99" title="Get the last requestID from a connection object." alt="" coords="271,5,508,35"/><area shape="rect" id="node5" href="libmongo-private_8h.html#a616af143aa2a10f5ce29ff784ea210b8" title="mongo_wire_cmd_kill_cursors_va" alt="" coords="273,59,505,88"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__mongo__sync_ga96a2018a7b4f04e73e19da2eadf8d3e4_icgraph.png" border="0" usemap="#group__mongo__sync_ga96a2018a7b4f04e73e19da2eadf8d3e4_icgraph" alt=""/></div>
<map name="group__mongo__sync_ga96a2018a7b4f04e73e19da2eadf8d3e4_icgraph" id="group__mongo__sync_ga96a2018a7b4f04e73e19da2eadf8d3e4_icgraph">
<area shape="rect" id="node3" href="group__mongo__sync__cursor.html#gad7ceca60dfd310b3205d9776b4ae566e" title="Free a MongoDB cursor." alt="" coords="271,5,452,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gadbc79fc4f323ba7df77fe54f669ebfb0"></a><!-- doxytag: member="mongo&#45;sync.h::mongo_sync_cmd_ping" ref="gadbc79fc4f323ba7df77fe54f669ebfb0" args="(mongo_sync_connection *conn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean mongo_sync_cmd_ping </td>
          <td>(</td>
          <td class="paramtype">mongo_sync_connection *&nbsp;</td>
          <td class="paramname"> <em>conn</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send a PING command to MongoDB. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>is the connection to work with.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE if the connection is alive and kicking, FALSE otherwise. </dd></dl>

<p>Definition at line <a class="el" href="mongo-sync_8c_source.html#l01239">1239</a> of file <a class="el" href="mongo-sync_8c_source.html">mongo-sync.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__mongo__sync_gadbc79fc4f323ba7df77fe54f669ebfb0_cgraph.png" border="0" usemap="#group__mongo__sync_gadbc79fc4f323ba7df77fe54f669ebfb0_cgraph" alt=""/></div>
<map name="group__mongo__sync_gadbc79fc4f323ba7df77fe54f669ebfb0_cgraph" id="group__mongo__sync_gadbc79fc4f323ba7df77fe54f669ebfb0_cgraph">
<area shape="rect" id="node3" href="group__bson__append.html#gad5d474c266b6ee9278e339eb78126b00" title="Append a 32&#45;bit integer to a BSON object." alt="" coords="244,5,391,35"/><area shape="rect" id="node5" href="group__bson__object__access.html#gaa9919014ef9d2e2c1b04efa31e0f2124" title="Finish a BSON object." alt="" coords="271,59,364,88"/><area shape="rect" id="node7" href="group__bson__object__access.html#ga1c0a306bfbe71d42218a3882ed188dd8" title="Free the memory associated with a BSON object." alt="" coords="275,112,360,141"/><area shape="rect" id="node9" href="group__bson__object__access.html#ga5880491cfbf32f576ca7ed289c7a5d6c" title="Create a new BSON object, preallocating a given amount of space." alt="" coords="255,165,380,195"/><area shape="rect" id="node11" href="group__mongo__wire__packet.html#ga84ffaee415e08bb61456dc2abfbfa6c6" title="Free up a mongo packet." alt="" coords="227,219,408,248"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__mongo__sync_gadbc79fc4f323ba7df77fe54f669ebfb0_icgraph.png" border="0" usemap="#group__mongo__sync_gadbc79fc4f323ba7df77fe54f669ebfb0_icgraph" alt=""/></div>
<map name="group__mongo__sync_gadbc79fc4f323ba7df77fe54f669ebfb0_icgraph" id="group__mongo__sync_gadbc79fc4f323ba7df77fe54f669ebfb0_icgraph">
<area shape="rect" id="node3" href="group__mongo__sync.html#gae47159f902ced01122d46bb614091a6d" title="Attempt to connect to another member of a replica set." alt="" coords="228,29,401,59"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga0349cd2e80d82f52544dbafe1dcb8cdd"></a><!-- doxytag: member="mongo&#45;sync.h::mongo_sync_cmd_query" ref="ga0349cd2e80d82f52544dbafe1dcb8cdd" args="(mongo_sync_connection *conn, const gchar *ns, gint32 flags, gint32 skip, gint32 ret, const bson *query, const bson *sel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mongo_packet* mongo_sync_cmd_query </td>
          <td>(</td>
          <td class="paramtype">mongo_sync_connection *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gint32&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gint32&nbsp;</td>
          <td class="paramname"> <em>skip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gint32&nbsp;</td>
          <td class="paramname"> <em>ret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bson *&nbsp;</td>
          <td class="paramname"> <em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bson *&nbsp;</td>
          <td class="paramname"> <em>sel</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send a query command to MongoDB. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>is the connection to work with. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ns</em>&nbsp;</td><td>is the namespace, the database and collection name concatenated, and separated with a single dot. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>are the query options. See <a class="el" href="group__mongo__wire__cmd.html#ga07c82c11f2e103a79b88f22bdb586472" title="Construct a query command.">mongo_wire_cmd_query()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>skip</em>&nbsp;</td><td>is the number of documents to skip. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ret</em>&nbsp;</td><td>is the number of documents to return. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>query</em>&nbsp;</td><td>is the query BSON object. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sel</em>&nbsp;</td><td>is the (optional) selector BSON object indicating the fields to return. Passing NULL will return all fields.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A newly allocated reply packet, or NULL on error. It is the responsibility of the caller to free the packet once it is not used anymore. </dd></dl>

<p>Definition at line <a class="el" href="mongo-sync_8c_source.html#l00818">818</a> of file <a class="el" href="mongo-sync_8c_source.html">mongo-sync.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__mongo__sync_ga0349cd2e80d82f52544dbafe1dcb8cdd_cgraph.png" border="0" usemap="#group__mongo__sync_ga0349cd2e80d82f52544dbafe1dcb8cdd_cgraph" alt=""/></div>
<map name="group__mongo__sync_ga0349cd2e80d82f52544dbafe1dcb8cdd_cgraph" id="group__mongo__sync_ga0349cd2e80d82f52544dbafe1dcb8cdd_cgraph">
<area shape="rect" id="node3" href="group__mongo__client.html#ga70ff2b3c762e7a40f9d7f6df7a9e6e99" title="Get the last requestID from a connection object." alt="" coords="236,5,473,35"/><area shape="rect" id="node5" href="group__mongo__wire__cmd.html#ga07c82c11f2e103a79b88f22bdb586472" title="Construct a query command." alt="" coords="267,59,443,88"/><area shape="rect" id="node7" href="group__bson__object__access.html#ga053d619f59aa8effe973b5b8077fb57b" title="Return the raw bytestream form of the BSON object." alt="" coords="524,32,612,61"/><area shape="rect" id="node9" href="group__bson__object__access.html#ga57fb6a03f8e9948901945f4b5fc0793c" title="Return the size of a finished BSON object." alt="" coords="525,85,611,115"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga46b67cfe6443950b6083b5d668e9f37e"></a><!-- doxytag: member="mongo&#45;sync.h::mongo_sync_cmd_reset_error" ref="ga46b67cfe6443950b6083b5d668e9f37e" args="(mongo_sync_connection *conn, const gchar *db)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean mongo_sync_cmd_reset_error </td>
          <td>(</td>
          <td class="paramtype">mongo_sync_connection *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>db</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reset the last error variable in MongoDB. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>is the connection to work with. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>db</em>&nbsp;</td><td>is the name of the database.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE on success, FALSE otherwise. </dd></dl>

<p>Definition at line <a class="el" href="mongo-sync_8c_source.html#l01104">1104</a> of file <a class="el" href="mongo-sync_8c_source.html">mongo-sync.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__mongo__sync_ga46b67cfe6443950b6083b5d668e9f37e_cgraph.png" border="0" usemap="#group__mongo__sync_ga46b67cfe6443950b6083b5d668e9f37e_cgraph" alt=""/></div>
<map name="group__mongo__sync_ga46b67cfe6443950b6083b5d668e9f37e_cgraph" id="group__mongo__sync_ga46b67cfe6443950b6083b5d668e9f37e_cgraph">
<area shape="rect" id="node3" href="group__bson__append.html#gad5d474c266b6ee9278e339eb78126b00" title="Append a 32&#45;bit integer to a BSON object." alt="" coords="287,5,433,35"/><area shape="rect" id="node5" href="group__bson__object__access.html#gaa9919014ef9d2e2c1b04efa31e0f2124" title="Finish a BSON object." alt="" coords="313,59,407,88"/><area shape="rect" id="node7" href="group__bson__object__access.html#ga1c0a306bfbe71d42218a3882ed188dd8" title="Free the memory associated with a BSON object." alt="" coords="317,112,403,141"/><area shape="rect" id="node9" href="group__bson__object__access.html#ga5880491cfbf32f576ca7ed289c7a5d6c" title="Create a new BSON object, preallocating a given amount of space." alt="" coords="297,165,423,195"/><area shape="rect" id="node11" href="group__mongo__wire__packet.html#ga84ffaee415e08bb61456dc2abfbfa6c6" title="Free up a mongo packet." alt="" coords="269,219,451,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gae299d207c5afabc9f114bab874454c12"></a><!-- doxytag: member="mongo&#45;sync.h::mongo_sync_cmd_update" ref="gae299d207c5afabc9f114bab874454c12" args="(mongo_sync_connection *conn, const gchar *ns, gint32 flags, const bson *selector, const bson *update)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean mongo_sync_cmd_update </td>
          <td>(</td>
          <td class="paramtype">mongo_sync_connection *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gint32&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bson *&nbsp;</td>
          <td class="paramname"> <em>selector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bson *&nbsp;</td>
          <td class="paramname"> <em>update</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send an update command to MongoDB. </p>
<p>Constructs and sends an update command to MongoDB.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>is the connection to work with. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ns</em>&nbsp;</td><td>is the namespace to work in. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>are the flags for the update command. See <a class="el" href="group__mongo__wire__cmd.html#ga660ca5f7389ca48d4739d885a18e78a6" title="Construct an update command.">mongo_wire_cmd_update()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>selector</em>&nbsp;</td><td>is the BSON document that will act as the selector. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>update</em>&nbsp;</td><td>is the BSON document that contains the updated values.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE on success, FALSE otherwise. </dd></dl>

<p>Definition at line <a class="el" href="mongo-sync_8c_source.html#l00686">686</a> of file <a class="el" href="mongo-sync_8c_source.html">mongo-sync.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__mongo__sync_gae299d207c5afabc9f114bab874454c12_cgraph.png" border="0" usemap="#group__mongo__sync_gae299d207c5afabc9f114bab874454c12_cgraph" alt=""/></div>
<map name="group__mongo__sync_gae299d207c5afabc9f114bab874454c12_cgraph" id="group__mongo__sync_gae299d207c5afabc9f114bab874454c12_cgraph">
<area shape="rect" id="node3" href="group__mongo__client.html#ga70ff2b3c762e7a40f9d7f6df7a9e6e99" title="Get the last requestID from a connection object." alt="" coords="247,5,484,35"/><area shape="rect" id="node5" href="group__mongo__wire__cmd.html#ga660ca5f7389ca48d4739d885a18e78a6" title="Construct an update command." alt="" coords="272,59,459,88"/><area shape="rect" id="node7" href="group__bson__object__access.html#ga053d619f59aa8effe973b5b8077fb57b" title="Return the raw bytestream form of the BSON object." alt="" coords="535,32,623,61"/><area shape="rect" id="node9" href="group__bson__object__access.html#ga57fb6a03f8e9948901945f4b5fc0793c" title="Return the size of a finished BSON object." alt="" coords="536,85,621,115"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga7864f55710c0bdec14f75a936209b56e"></a><!-- doxytag: member="mongo&#45;sync.h::mongo_sync_cmd_user_add" ref="ga7864f55710c0bdec14f75a936209b56e" args="(mongo_sync_connection *conn, const gchar *db, const gchar *user, const gchar *pw)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean mongo_sync_cmd_user_add </td>
          <td>(</td>
          <td class="paramtype">mongo_sync_connection *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>pw</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a user to MongoDB. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>is the connection to work with. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>db</em>&nbsp;</td><td>is the database to add the user to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user</em>&nbsp;</td><td>is the user to add. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pw</em>&nbsp;</td><td>is the password.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE on success, FALSE otherwise. </dd></dl>

<p>Definition at line <a class="el" href="mongo-sync_8c_source.html#l01480">1480</a> of file <a class="el" href="mongo-sync_8c_source.html">mongo-sync.c</a>.</p>

</div>
</div>
<a class="anchor" id="gafa69e77be5c3686a11e0648a3190621c"></a><!-- doxytag: member="mongo&#45;sync.h::mongo_sync_cmd_user_remove" ref="gafa69e77be5c3686a11e0648a3190621c" args="(mongo_sync_connection *conn, const gchar *db, const gchar *user)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean mongo_sync_cmd_user_remove </td>
          <td>(</td>
          <td class="paramtype">mongo_sync_connection *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>user</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Remove a user from MongoDB. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>is the connection to work with. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>db</em>&nbsp;</td><td>is the database to remove the user from. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user</em>&nbsp;</td><td>is the username to remove.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE on success, FALSE otherwise. </dd></dl>

<p>Definition at line <a class="el" href="mongo-sync_8c_source.html#l01490">1490</a> of file <a class="el" href="mongo-sync_8c_source.html">mongo-sync.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaf680bbf48f7c1704da3e5fc498ab78e4"></a><!-- doxytag: member="mongo&#45;sync.h::mongo_sync_conn_get_auto_reconnect" ref="gaf680bbf48f7c1704da3e5fc498ab78e4" args="(const mongo_sync_connection *conn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean mongo_sync_conn_get_auto_reconnect </td>
          <td>(</td>
          <td class="paramtype">const mongo_sync_connection *&nbsp;</td>
          <td class="paramname"> <em>conn</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the state of the auto-reconnect flag from a sync connection. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>is the connection to check the flag on.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The state of the auto-reconnect flag. </dd></dl>

<p>Definition at line <a class="el" href="mongo-sync_8c_source.html#l00322">322</a> of file <a class="el" href="mongo-sync_8c_source.html">mongo-sync.c</a>.</p>

</div>
</div>
<a class="anchor" id="gab37fe46132eea00fb9c5d850b638fe71"></a><!-- doxytag: member="mongo&#45;sync.h::mongo_sync_conn_get_max_insert_size" ref="gab37fe46132eea00fb9c5d850b638fe71" args="(mongo_sync_connection *conn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gint32 mongo_sync_conn_get_max_insert_size </td>
          <td>(</td>
          <td class="paramtype">mongo_sync_connection *&nbsp;</td>
          <td class="paramname"> <em>conn</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the maximum size of a bulk insert package. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>is the connection to get the maximum size from.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The maximum size, or -1 on failiure. </dd></dl>

<p>Definition at line <a class="el" href="mongo-sync_8c_source.html#l00263">263</a> of file <a class="el" href="mongo-sync_8c_source.html">mongo-sync.c</a>.</p>

</div>
</div>
<a class="anchor" id="gab745ae594c27175fc05414429a72551c"></a><!-- doxytag: member="mongo&#45;sync.h::mongo_sync_conn_get_safe_mode" ref="gab745ae594c27175fc05414429a72551c" args="(const mongo_sync_connection *conn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean mongo_sync_conn_get_safe_mode </td>
          <td>(</td>
          <td class="paramtype">const mongo_sync_connection *&nbsp;</td>
          <td class="paramname"> <em>conn</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieve the state of the safe mode flag from a sync connection. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>is the connection to check the flag on.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The state of the safe mode flag. </dd></dl>

<p>Definition at line <a class="el" href="mongo-sync_8c_source.html#l00294">294</a> of file <a class="el" href="mongo-sync_8c_source.html">mongo-sync.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga3da493c75a92a589ab1470c2a0da89a3"></a><!-- doxytag: member="mongo&#45;sync.h::mongo_sync_conn_get_slaveok" ref="ga3da493c75a92a589ab1470c2a0da89a3" args="(const mongo_sync_connection *conn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean mongo_sync_conn_get_slaveok </td>
          <td>(</td>
          <td class="paramtype">const mongo_sync_connection *&nbsp;</td>
          <td class="paramname"> <em>conn</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieve the state of the SLAVE_OK flag from a sync connection. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>is the connection to check the flag on.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The state of the SLAVE_OK flag. </dd></dl>

<p>Definition at line <a class="el" href="mongo-sync_8c_source.html#l00349">349</a> of file <a class="el" href="mongo-sync_8c_source.html">mongo-sync.c</a>.</p>

</div>
</div>
<a class="anchor" id="gae8120d828d47e9e33e024c5ccbe53d5c"></a><!-- doxytag: member="mongo&#45;sync.h::mongo_sync_conn_seed_add" ref="gae8120d828d47e9e33e024c5ccbe53d5c" args="(mongo_sync_connection *conn, const gchar *host, gint port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean mongo_sync_conn_seed_add </td>
          <td>(</td>
          <td class="paramtype">mongo_sync_connection *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gint&nbsp;</td>
          <td class="paramname"> <em>port</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a seed to an existing MongoDB connection. </p>
<p>The seed list will be used for reconnects, prioritized before the automatically discovered host list.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>is the connection to add a seed to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>host</em>&nbsp;</td><td>is the seed host to add. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>is the seed's port.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE on success, FALSE otherwise. </dd></dl>

<p>Definition at line <a class="el" href="mongo-sync_8c_source.html#l00059">59</a> of file <a class="el" href="mongo-sync_8c_source.html">mongo-sync.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga68bd49843b1351c6549b92d5b9150195"></a><!-- doxytag: member="mongo&#45;sync.h::mongo_sync_conn_set_auto_reconnect" ref="ga68bd49843b1351c6549b92d5b9150195" args="(mongo_sync_connection *conn, gboolean auto_reconnect)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean mongo_sync_conn_set_auto_reconnect </td>
          <td>(</td>
          <td class="paramtype">mongo_sync_connection *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gboolean&nbsp;</td>
          <td class="paramname"> <em>auto_reconnect</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the state of the auto-reconnect flag on a sync connection. </p>
<p>When auto-reconnect is enabled, the library will automatically attempt to reconnect to a server behind the scenes, when it detects an error.</p>
<p>If safe-mode is turned on aswell, then auto-reconnect will only happen if the error is detected before a command is sent towards the database.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>is the connection to set auto-reconnect on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>auto_reconnect</em>&nbsp;</td><td>is the state to set it to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE on success, FALSE otherwise. </dd></dl>

<p>Definition at line <a class="el" href="mongo-sync_8c_source.html#l00335">335</a> of file <a class="el" href="mongo-sync_8c_source.html">mongo-sync.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga61e96dc6f14ffd14070d0e3365ae91e5"></a><!-- doxytag: member="mongo&#45;sync.h::mongo_sync_conn_set_max_insert_size" ref="ga61e96dc6f14ffd14070d0e3365ae91e5" args="(mongo_sync_connection *conn, gint32 max_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean mongo_sync_conn_set_max_insert_size </td>
          <td>(</td>
          <td class="paramtype">mongo_sync_connection *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gint32&nbsp;</td>
          <td class="paramname"> <em>max_size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the maximum size of a bulk insert package. </p>
<p>When inserting multiple documents at a time, the library can automatically split the pack up into smaller chunks. With this function, one can set the maximum size, past which, the request will be split into smaller chunks.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>is the connection to set the maximum size for. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>max_size</em>&nbsp;</td><td>is the maximum size, in bytes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE on success, FALSE otherwise. </dd></dl>

<p>Definition at line <a class="el" href="mongo-sync_8c_source.html#l00274">274</a> of file <a class="el" href="mongo-sync_8c_source.html">mongo-sync.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaffcb8741b173216de6457c15121f6f66"></a><!-- doxytag: member="mongo&#45;sync.h::mongo_sync_conn_set_safe_mode" ref="gaffcb8741b173216de6457c15121f6f66" args="(mongo_sync_connection *conn, gboolean safe_mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean mongo_sync_conn_set_safe_mode </td>
          <td>(</td>
          <td class="paramtype">mongo_sync_connection *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gboolean&nbsp;</td>
          <td class="paramname"> <em>safe_mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the safe mode flag on a sync connection. </p>
<p>Enabling safe mode will result in an additional getLastError() call after each insert or update, and extra checks performed on other commands aswell.</p>
<p>The upside is more guarantees that the commands succeed, at the expense of network traffic and speed.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>is the connection to set the flag on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>safe_mode</em>&nbsp;</td><td>is the state to set it to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE on success, FALSE otherwise. </dd></dl>

<p>Definition at line <a class="el" href="mongo-sync_8c_source.html#l00307">307</a> of file <a class="el" href="mongo-sync_8c_source.html">mongo-sync.c</a>.</p>

</div>
</div>
<a class="anchor" id="gadd464da5d3306f50f4eedafb56081119"></a><!-- doxytag: member="mongo&#45;sync.h::mongo_sync_conn_set_slaveok" ref="gadd464da5d3306f50f4eedafb56081119" args="(mongo_sync_connection *conn, gboolean slaveok)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean mongo_sync_conn_set_slaveok </td>
          <td>(</td>
          <td class="paramtype">mongo_sync_connection *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gboolean&nbsp;</td>
          <td class="paramname"> <em>slaveok</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the SLAVE_OK flag on a sync connection. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>is the connection to set the flag on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>slaveok</em>&nbsp;</td><td>is the state to set.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE on sucess, FALSE otherwise. </dd></dl>

<p>Definition at line <a class="el" href="mongo-sync_8c_source.html#l00362">362</a> of file <a class="el" href="mongo-sync_8c_source.html">mongo-sync.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga731774e2a0026cda4467193a83b6f64a"></a><!-- doxytag: member="mongo&#45;sync.h::mongo_sync_connect" ref="ga731774e2a0026cda4467193a83b6f64a" args="(const gchar *host, gint port, gboolean slaveok)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mongo_sync_connection* mongo_sync_connect </td>
          <td>(</td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gint&nbsp;</td>
          <td class="paramname"> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gboolean&nbsp;</td>
          <td class="paramname"> <em>slaveok</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Synchronously connect to a MongoDB server. </p>
<p>Sets up a synchronous connection to a MongoDB server.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>host</em>&nbsp;</td><td>is the address of the server. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>is the port to connect to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>slaveok</em>&nbsp;</td><td>signals whether queries made against a slave are acceptable.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A newly allocated mongo_sync_connection object, or NULL on error. It is the responsibility of the caller to close and free the connection when appropriate. </dd></dl>

<p>Definition at line <a class="el" href="mongo-sync_8c_source.html#l00035">35</a> of file <a class="el" href="mongo-sync_8c_source.html">mongo-sync.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__mongo__sync_ga731774e2a0026cda4467193a83b6f64a_cgraph.png" border="0" usemap="#group__mongo__sync_ga731774e2a0026cda4467193a83b6f64a_cgraph" alt=""/></div>
<map name="group__mongo__sync_ga731774e2a0026cda4467193a83b6f64a_cgraph" id="group__mongo__sync_ga731774e2a0026cda4467193a83b6f64a_cgraph">
<area shape="rect" id="node3" href="group__mongo__client.html#ga52e0af929ba8a7a2ff0f4ec4b3006e93" title="Connect to a MongoDB server." alt="" coords="216,5,341,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__mongo__sync_ga731774e2a0026cda4467193a83b6f64a_icgraph.png" border="0" usemap="#group__mongo__sync_ga731774e2a0026cda4467193a83b6f64a_icgraph" alt=""/></div>
<map name="group__mongo__sync_ga731774e2a0026cda4467193a83b6f64a_icgraph" id="group__mongo__sync_ga731774e2a0026cda4467193a83b6f64a_icgraph">
<area shape="rect" id="node3" href="group__mongo__sync.html#gae47159f902ced01122d46bb614091a6d" title="Attempt to connect to another member of a replica set." alt="" coords="217,29,391,59"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gab5fa65825c2bc29fdea7d925237556d5"></a><!-- doxytag: member="mongo&#45;sync.h::mongo_sync_disconnect" ref="gab5fa65825c2bc29fdea7d925237556d5" args="(mongo_sync_connection *conn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mongo_sync_disconnect </td>
          <td>(</td>
          <td class="paramtype">mongo_sync_connection *&nbsp;</td>
          <td class="paramname"> <em>conn</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Close and free a synchronous MongoDB connection. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>is the connection to close.</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>The object will be freed, and shall not be used afterwards! </dd></dl>

<p>Definition at line <a class="el" href="mongo-sync_8c_source.html#l00233">233</a> of file <a class="el" href="mongo-sync_8c_source.html">mongo-sync.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__mongo__sync_gab5fa65825c2bc29fdea7d925237556d5_cgraph.png" border="0" usemap="#group__mongo__sync_gab5fa65825c2bc29fdea7d925237556d5_cgraph" alt=""/></div>
<map name="group__mongo__sync_gab5fa65825c2bc29fdea7d925237556d5_cgraph" id="group__mongo__sync_gab5fa65825c2bc29fdea7d925237556d5_cgraph">
<area shape="rect" id="node3" href="group__mongo__client.html#ga3c100e2c251cc609e872096d5a68089b" title="Disconnect from a MongoDB server." alt="" coords="233,5,375,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__mongo__sync_gab5fa65825c2bc29fdea7d925237556d5_icgraph.png" border="0" usemap="#group__mongo__sync_gab5fa65825c2bc29fdea7d925237556d5_icgraph" alt=""/></div>
<map name="group__mongo__sync_gab5fa65825c2bc29fdea7d925237556d5_icgraph" id="group__mongo__sync_gab5fa65825c2bc29fdea7d925237556d5_icgraph">
<area shape="rect" id="node3" href="group__mongo__sync__pool__api.html#gaa9362a74d4b5383aa2e903bcb920733f" title="Close and free a synchronous connection pool." alt="" coords="233,5,401,35"/><area shape="rect" id="node5" href="group__mongo__sync__pool__api.html#gacdb2162ca636a523dc344b31a099ba62" title="Create a new synchronous connection pool." alt="" coords="233,59,401,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gae47159f902ced01122d46bb614091a6d"></a><!-- doxytag: member="mongo&#45;sync.h::mongo_sync_reconnect" ref="gae47159f902ced01122d46bb614091a6d" args="(mongo_sync_connection *conn, gboolean force_master)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mongo_sync_connection* mongo_sync_reconnect </td>
          <td>(</td>
          <td class="paramtype">mongo_sync_connection *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gboolean&nbsp;</td>
          <td class="paramname"> <em>force_master</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Attempt to connect to another member of a replica set. </p>
<p>Given an existing connection, this function will try to connect to an available node (enforcing that it's a primary, if asked to) by trying all known hosts until it finds one available.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>is an existing MongoDB connection. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>force_master</em>&nbsp;</td><td>signals whether a primary node should be found.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A mongo_sync_collection object, or NULL if the reconnect fails for one reason or the other.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>The original connection object will be updated too! </dd></dl>

<p>Definition at line <a class="el" href="mongo-sync_8c_source.html#l00128">128</a> of file <a class="el" href="mongo-sync_8c_source.html">mongo-sync.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__mongo__sync_gae47159f902ced01122d46bb614091a6d_cgraph.png" border="0" usemap="#group__mongo__sync_gae47159f902ced01122d46bb614091a6d_cgraph" alt=""/></div>
<map name="group__mongo__sync_gae47159f902ced01122d46bb614091a6d_cgraph" id="group__mongo__sync_gae47159f902ced01122d46bb614091a6d_cgraph">
<area shape="rect" id="node3" href="group__mongo__sync.html#ga68dba9bac0f92adc2b3de62a357d6854" title="Check whether the current node is the master." alt="" coords="229,401,437,430"/><area shape="rect" id="node55" href="group__mongo__sync.html#gadbc79fc4f323ba7df77fe54f669ebfb0" title="Send a PING command to MongoDB." alt="" coords="248,689,419,718"/><area shape="rect" id="node62" href="group__mongo__sync.html#ga731774e2a0026cda4467193a83b6f64a" title="Synchronously connect to a MongoDB server." alt="" coords="253,742,413,771"/><area shape="rect" id="node67" href="group__mongo__util.html#ga322ea87ec69f5964eea7e8da40288579" title="Parse a HOST:IP pair." alt="" coords="248,795,419,825"/><area shape="rect" id="node5" href="group__bson__append.html#gad5d474c266b6ee9278e339eb78126b00" title="Append a 32&#45;bit integer to a BSON object." alt="" coords="569,635,716,665"/><area shape="rect" id="node7" href="group__bson__cursor.html#gaae32a6eae2be182d26c8f2a79a07ac12" title="Delete a cursor, and free up all resources used by it." alt="" coords="577,374,708,403"/><area shape="rect" id="node9" href="group__bson__cursor.html#ga92fec73041e5d7efaf9899c5b6d37343" title="Get the value stored at the cursor, as a BSON array." alt="" coords="559,427,727,457"/><area shape="rect" id="node13" href="group__bson__object__access.html#gaa9919014ef9d2e2c1b04efa31e0f2124" title="Finish a BSON object." alt="" coords="935,533,1028,562"/><area shape="rect" id="node15" href="group__bson__object__access.html#ga5880491cfbf32f576ca7ed289c7a5d6c" title="Create a new BSON object, preallocating a given amount of space." alt="" coords="919,586,1044,615"/><area shape="rect" id="node17" href="group__bson__cursor.html#ga25d4336571d2954b22ef3bbfb9b53c4e" title="Get the value stored at the cursor, as a boolean." alt="" coords="888,7,1075,37"/><area shape="rect" id="node20" href="group__bson__cursor.html#ga657fb2f0fecd190b824d3e38936b1d4d" title="Get the value stored at the cursor, as string." alt="" coords="896,61,1067,90"/><area shape="rect" id="node23" href="group__bson__cursor.html#gadcac4b9c2076afa5e7e656baed077b18" title="Create a new cursor." alt="" coords="577,214,708,243"/><area shape="rect" id="node27" href="group__bson__cursor.html#ga88ecba6bdfb9c33a7945daddb5bcab5c" title="Position the cursor to the next key." alt="" coords="576,267,709,297"/><area shape="rect" id="node34" href="group__bson__cursor.html#ga8020ba70e4514954a5a5ebe37baa2bcb" title="Create a new cursor positioned at a given key." alt="" coords="601,161,684,190"/><area shape="rect" id="node39" href="group__bson__object__access.html#ga1c0a306bfbe71d42218a3882ed188dd8" title="Free the memory associated with a BSON object." alt="" coords="600,689,685,718"/><area shape="rect" id="node42" href="group__mongo__wire__packet.html#ga84ffaee415e08bb61456dc2abfbfa6c6" title="Free up a mongo packet." alt="" coords="552,582,733,611"/><area shape="rect" id="node44" href="group__mongo__wire__reply.html#ga3f074589b15788ce7fd8e67867864033" title="Get the Nth document from a reply packet." alt="" coords="485,321,800,350"/><area shape="rect" id="node11" href="group__bson__object__access.html#ga053d619f59aa8effe973b5b8077fb57b" title="Return the raw bytestream form of the BSON object." alt="" coords="1225,165,1313,194"/><area shape="rect" id="node25" href="group__bson__object__access.html#ga57fb6a03f8e9948901945f4b5fc0793c" title="Return the size of a finished BSON object." alt="" coords="939,165,1024,194"/><area shape="rect" id="node29" href="group__bson__cursor.html#gac2b4e5dca25475ed4842ca4dd86413f3" title="Determine the type of the current element." alt="" coords="915,269,1048,298"/><area shape="rect" id="node46" href="group__bson__object__access.html#gad456a97b9a887b96373b8e519d76ecff" title="Create a BSON object from existing data." alt="" coords="903,322,1060,351"/><area shape="rect" id="node48" href="group__mongo__wire__reply.html#gad4378c89fad2dc0834eb0e709d6124b2" title="Get the full data part of a reply packet." alt="" coords="856,375,1107,405"/><area shape="rect" id="node52" href="group__mongo__wire__reply.html#ga5d207b5b89cfee839f2129251aab5261" title="Get the header of a reply packet." alt="" coords="848,479,1115,509"/><area shape="rect" id="node50" href="group__mongo__wire__packet.html#ga5350d54b0a6800ecd7df81d5c2b80c6b" title="Get the data part of a packet." alt="" coords="1163,427,1376,457"/><area shape="rect" id="node64" href="group__mongo__client.html#ga52e0af929ba8a7a2ff0f4ec4b3006e93" title="Connect to a MongoDB server." alt="" coords="580,843,705,873"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__mongo__sync_gae47159f902ced01122d46bb614091a6d_icgraph.png" border="0" usemap="#group__mongo__sync_gae47159f902ced01122d46bb614091a6d_icgraph" alt=""/></div>
<map name="group__mongo__sync_gae47159f902ced01122d46bb614091a6d_icgraph" id="group__mongo__sync_gae47159f902ced01122d46bb614091a6d_icgraph">
</map>
</div>
</p>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Sat Jun 25 2011 12:15:48 for libmongo-client by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
